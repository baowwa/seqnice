import{j as e}from"./index-BUaa-MK4.js";import{r as s}from"./react-vendor-By8n_QN6.js";import{_ as i,c as t,d as r,a as l,P as n,Q as a,aB as d,Y as o,aH as c,ap as m,a0 as h,ag as x,a1 as j,B as u,U as p,a3 as v,aI as g,a4 as y,b as w,i as f,D as T,ah as b,W as S,l as I,T as k,a2 as z,aw as C,aJ as q,aK as N,A as B,x as Y,V as P,ar as D,aL as M,an as F,X as O,ao as H,N as L,S as W,a7 as R,a9 as _,ai as E,au as $,s as A,aM as U,aD as G,ae as V}from"./antd-vendor-Cii6xr0v.js";const{Search:K}=h,{Option:J}=j,{TextArea:Q}=h,{TabPane:X}=m,{Text:Z,Title:ee,Paragraph:se}=k,{Panel:ie}=G,{RangePicker:te}=y,{Step:re}=V,le=()=>{const[k,G]=s.useState(!1),[V,se]=s.useState([]),[ie,te]=s.useState([]),[re,le]=s.useState(null),[ne,ae]=s.useState(!1),[de,oe]=s.useState(!1),[ce,me]=s.useState(!1),[he,xe]=s.useState(!1),[je,ue]=s.useState(!1),[pe,ve]=s.useState(!1),[ge,ye]=s.useState(""),[we,fe]=s.useState(""),[Te,be]=s.useState(""),[Se,Ie]=s.useState(""),[ke,ze]=s.useState(""),[Ce,qe]=s.useState("reviews"),[Ne]=i.useForm(),[Be]=i.useForm(),[Ye]=i.useForm(),[Pe]=i.useForm(),De=[{id:"1",reportId:"R001",reportName:"人类全基因组变异检测报告",reportType:"detailed",templateType:"wgs",status:"reviewing",priority:"high",reviewType:"technical",submittedBy:"张三",submittedTime:"2024-01-15 14:30:00",assignedTo:"李四",assignedTime:"2024-01-15 15:00:00",reviewStartTime:"2024-01-15 15:30:00",deadline:"2024-01-17 18:00:00",progress:65,score:85,issues:[],comments:[],attachments:[],version:"v1.0",previousVersions:[],isUrgent:!1,tags:["WGS","变异检测","质量控制"],projectId:"P001",projectName:"人类全基因组变异检测项目",clientName:"某医院",estimatedTime:8,actualTime:5},{id:"2",reportId:"R002",reportName:"RNA差异表达分析报告",reportType:"standard",templateType:"rna_seq",status:"pending",priority:"medium",reviewType:"content",submittedBy:"王五",submittedTime:"2024-01-16 09:15:00",assignedTo:"",deadline:"2024-01-18 17:00:00",progress:0,issues:[],comments:[],attachments:[],version:"v1.0",previousVersions:[],isUrgent:!1,tags:["RNA-seq","差异表达","功能富集"],projectId:"P002",projectName:"RNA差异表达分析",estimatedTime:6},{id:"3",reportId:"R003",reportName:"微生物群落分析报告",reportType:"summary",templateType:"metagenome",status:"revision_required",priority:"low",reviewType:"quality",submittedBy:"赵六",submittedTime:"2024-01-14 11:00:00",assignedTo:"钱七",assignedTime:"2024-01-14 14:00:00",reviewStartTime:"2024-01-14 14:30:00",reviewEndTime:"2024-01-15 10:00:00",deadline:"2024-01-19 16:00:00",progress:100,score:72,issues:[{id:"1",type:"warning",category:"数据质量",title:"样本多样性指标偏低",description:"Shannon指数低于预期阈值，建议重新检查样本处理流程",location:"第3章 多样性分析",severity:"medium",status:"open",createdBy:"钱七",createdTime:"2024-01-15 09:30:00"}],comments:[],attachments:[],version:"v1.1",previousVersions:["v1.0"],isUrgent:!1,tags:["宏基因组","微生物","多样性"],projectId:"P003",projectName:"微生物群落多样性分析",estimatedTime:4,actualTime:6},{id:"4",reportId:"R004",reportName:"临床基因检测报告",reportType:"clinical",templateType:"clinical",status:"approved",priority:"urgent",reviewType:"clinical",submittedBy:"孙八",submittedTime:"2024-01-13 16:20:00",assignedTo:"周九",assignedTime:"2024-01-13 16:30:00",reviewStartTime:"2024-01-13 17:00:00",reviewEndTime:"2024-01-14 12:00:00",deadline:"2024-01-14 18:00:00",progress:100,score:95,issues:[],comments:[],attachments:[],version:"v1.0",previousVersions:[],isUrgent:!0,tags:["临床检测","遗传病","基因变异"],projectId:"P004",projectName:"临床基因检测项目",clientName:"某三甲医院",estimatedTime:12,actualTime:10}],Me=[{id:"1",name:"李四",role:"高级审核员",department:"生物信息学部",specialties:["WGS","WES","变异检测"],workload:75,rating:4.8,isOnline:!0},{id:"2",name:"钱七",role:"审核员",department:"质量控制部",specialties:["RNA-seq","宏基因组","质量评估"],workload:60,rating:4.5,isOnline:!0},{id:"3",name:"周九",role:"临床审核专家",department:"临床应用部",specialties:["临床检测","遗传咨询","报告解读"],workload:40,rating:4.9,isOnline:!1},{id:"4",name:"吴十",role:"审核员",department:"生物信息学部",specialties:["转录组","表观遗传","功能分析"],workload:85,rating:4.3,isOnline:!0}];s.useEffect(()=>{Fe(),Oe()},[]);const Fe=async()=>{G(!0);try{await new Promise(e=>setTimeout(e,1e3)),se(De)}catch(e){}finally{G(!1)}},Oe=async()=>{try{await new Promise(e=>setTimeout(e,500)),te(Me)}catch(e){}},He=e=>({content:"内容审核",quality:"质量审核",technical:"技术审核",clinical:"临床审核",final:"最终审核"}[e]),Le=e=>({low:"green",medium:"blue",high:"orange",urgent:"red"}[e]),We=e=>({low:"低",medium:"中",high:"高",urgent:"紧急"}[e]),Re=e=>({pending:"default",reviewing:"processing",approved:"success",rejected:"error",revision_required:"warning",completed:"cyan"}[e]),_e=e=>({pending:"待分配",reviewing:"审核中",approved:"已通过",rejected:"已拒绝",revision_required:"需修订",completed:"已完成"}[e]),Ee=V.filter(e=>{const s=!ge||e.reportName.toLowerCase().includes(ge.toLowerCase())||e.projectName.toLowerCase().includes(ge.toLowerCase())||e.submittedBy.toLowerCase().includes(ge.toLowerCase()),i=!we||e.status===we,t=!Te||e.priority===Te,r=!Se||e.reviewType===Se,l=!ke||e.assignedTo===ke;return s&&i&&t&&r&&l}),$e=[{title:"报告信息",key:"reportInfo",width:200,fixed:"left",render:(s,i)=>e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"bold"},children:i.reportName}),e.jsx("div",{style:{fontSize:12,color:"#666"},children:i.projectName}),e.jsxs("div",{style:{fontSize:12,color:"#999"},children:["ID: ",i.reportId," | v",i.version]})]})},{title:"审核类型",dataIndex:"reviewType",key:"reviewType",width:100,render:s=>e.jsx(S,{color:"blue",children:He(s)})},{title:"优先级",dataIndex:"priority",key:"priority",width:80,render:(s,i)=>e.jsxs("div",{children:[e.jsx(S,{color:Le(s),children:We(s)}),i.isUrgent&&e.jsx(S,{color:"red",size:"small",children:"紧急"})]})},{title:"状态",dataIndex:"status",key:"status",width:120,render:(s,i)=>e.jsxs("div",{children:[e.jsx(S,{color:Re(s),children:_e(s)}),"reviewing"===s&&e.jsx(O,{percent:i.progress,size:"small",style:{marginTop:4}})]})},{title:"审核员",key:"reviewer",width:120,render:(s,i)=>e.jsx("div",{children:i.assignedTo?e.jsxs("div",{children:[e.jsx(B,{size:"small",icon:e.jsx(Y,{})}),e.jsx("span",{style:{marginLeft:8},children:i.assignedTo})]}):e.jsx(Z,{type:"secondary",children:"未分配"})})},{title:"评分",dataIndex:"score",key:"score",width:80,render:s=>s?e.jsxs("div",{children:[e.jsx(g,{disabled:!0,value:s/20,style:{fontSize:12}}),e.jsxs("div",{style:{fontSize:12,color:"#666"},children:[s,"分"]})]}):"-"},{title:"问题",key:"issues",width:80,render:(s,i)=>{const t=i.issues.filter(e=>"error"===e.type).length,r=i.issues.filter(e=>"warning"===e.type).length,l=i.issues.filter(e=>"suggestion"===e.type).length;return e.jsxs("div",{children:[t>0&&e.jsx(H,{count:t,style:{backgroundColor:"#ff4d4f"}}),r>0&&e.jsx(H,{count:r,style:{backgroundColor:"#faad14"}}),l>0&&e.jsx(H,{count:l,style:{backgroundColor:"#1890ff"}}),0===i.issues.length&&e.jsx(Z,{type:"secondary",children:"无"})]})}},{title:"截止时间",key:"deadline",width:120,render:(s,i)=>{const t=(e=>{const s=L(),i=L(e).diff(s,"hour");return i<0?{text:"已超期",color:"#ff4d4f"}:i<24?{text:`${i}小时`,color:"#faad14"}:{text:`${Math.floor(i/24)}天`,color:"#52c41a"}})(i.deadline);return e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:12},children:L(i.deadline).format("MM-DD HH:mm")}),e.jsxs("div",{style:{fontSize:12,color:t.color},children:["剩余 ",t.text]})]})}},{title:"时间统计",key:"timeStats",width:100,render:(s,i)=>e.jsxs("div",{style:{fontSize:12},children:[e.jsxs("div",{children:["预计: ",i.estimatedTime,"h"]}),i.actualTime&&e.jsxs("div",{style:{color:i.actualTime>i.estimatedTime?"#ff4d4f":"#52c41a"},children:["实际: ",i.actualTime,"h"]})]})},{title:"操作",key:"action",width:200,fixed:"right",render:(s,i)=>e.jsxs(W,{size:"small",children:[e.jsx(R,{title:"查看详情",children:e.jsx(u,{type:"text",icon:e.jsx(_,{}),onClick:()=>(e=>{le(e),ue(!0)})(i)})}),"pending"===i.status&&e.jsx(R,{title:"分配审核员",children:e.jsx(u,{type:"text",icon:e.jsx(Y,{}),onClick:()=>(e=>{le(e),Ne.resetFields(),ae(!0)})(i)})}),"reviewing"===i.status&&e.jsx(R,{title:"开始审核",children:e.jsx(u,{type:"text",icon:e.jsx(d,{}),onClick:()=>(e=>{le(e),Be.resetFields(),oe(!0)})(i)})}),e.jsx(R,{title:"查看历史",children:e.jsx(u,{type:"text",icon:e.jsx(E,{}),onClick:()=>(e=>{le(e),ve(!0)})(i)})}),e.jsx(R,{title:"下载报告",children:e.jsx(u,{type:"text",icon:e.jsx($,{})})})]})}],Ae=[{title:"审核员",key:"reviewer",render:(s,i)=>e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx(B,{src:i.avatar,icon:e.jsx(Y,{})}),e.jsxs("div",{style:{marginLeft:12},children:[e.jsxs("div",{style:{fontWeight:"bold"},children:[i.name,i.isOnline&&e.jsx(H,{status:"success",style:{marginLeft:8}})]}),e.jsxs("div",{style:{fontSize:12,color:"#666"},children:[i.role," | ",i.department]})]})]})},{title:"专业领域",dataIndex:"specialties",key:"specialties",render:s=>e.jsx("div",{children:s.map(s=>e.jsx(S,{size:"small",children:s},s))})},{title:"工作负载",dataIndex:"workload",key:"workload",render:s=>e.jsxs("div",{children:[e.jsx(O,{percent:s,size:"small",strokeColor:s>80?"#ff4d4f":s>60?"#faad14":"#52c41a"}),e.jsxs("div",{style:{fontSize:12,color:"#666"},children:[s,"%"]})]})},{title:"评分",dataIndex:"rating",key:"rating",render:s=>e.jsxs("div",{children:[e.jsx(g,{disabled:!0,value:s,style:{fontSize:14}}),e.jsx("div",{style:{fontSize:12,color:"#666"},children:s})]})},{title:"状态",key:"status",render:(s,i)=>e.jsx(S,{color:i.isOnline?"green":"default",children:i.isOnline?"在线":"离线"})}];return e.jsxs("div",{children:[e.jsxs(t,{gutter:16,style:{marginBottom:16},children:[e.jsx(r,{span:6,children:e.jsx(l,{size:"small",children:e.jsx(n,{title:"待审核",value:V.filter(e=>"pending"===e.status).length,prefix:e.jsx(a,{}),valueStyle:{color:"#faad14"}})})}),e.jsx(r,{span:6,children:e.jsx(l,{size:"small",children:e.jsx(n,{title:"审核中",value:V.filter(e=>"reviewing"===e.status).length,prefix:e.jsx(d,{}),valueStyle:{color:"#1890ff"}})})}),e.jsx(r,{span:6,children:e.jsx(l,{size:"small",children:e.jsx(n,{title:"已完成",value:V.filter(e=>["approved","completed"].includes(e.status)).length,prefix:e.jsx(o,{}),valueStyle:{color:"#52c41a"}})})}),e.jsx(r,{span:6,children:e.jsx(l,{size:"small",children:e.jsx(n,{title:"平均评分",value:85.2,precision:1,prefix:e.jsx(c,{}),suffix:"分",valueStyle:{color:"#722ed1"}})})})]}),e.jsx(l,{size:"small",children:e.jsxs(m,{activeKey:Ce,onChange:qe,children:[e.jsxs(X,{tab:"审核管理",children:[e.jsxs(t,{gutter:16,style:{marginBottom:16},children:[e.jsx(r,{span:6,children:e.jsx(K,{placeholder:"搜索报告名称、项目或提交人",value:ge,onChange:e=>ye(e.target.value),onSearch:Fe,enterButton:e.jsx(x,{})})}),e.jsx(r,{span:3,children:e.jsxs(j,{placeholder:"状态筛选",value:we,onChange:fe,allowClear:!0,style:{width:"100%"},children:[e.jsx(J,{value:"pending",children:"待分配"}),e.jsx(J,{value:"reviewing",children:"审核中"}),e.jsx(J,{value:"approved",children:"已通过"}),e.jsx(J,{value:"rejected",children:"已拒绝"}),e.jsx(J,{value:"revision_required",children:"需修订"}),e.jsx(J,{value:"completed",children:"已完成"})]})}),e.jsx(r,{span:3,children:e.jsxs(j,{placeholder:"优先级",value:Te,onChange:be,allowClear:!0,style:{width:"100%"},children:[e.jsx(J,{value:"urgent",children:"紧急"}),e.jsx(J,{value:"high",children:"高"}),e.jsx(J,{value:"medium",children:"中"}),e.jsx(J,{value:"low",children:"低"})]})}),e.jsx(r,{span:3,children:e.jsxs(j,{placeholder:"审核类型",value:Se,onChange:Ie,allowClear:!0,style:{width:"100%"},children:[e.jsx(J,{value:"content",children:"内容审核"}),e.jsx(J,{value:"quality",children:"质量审核"}),e.jsx(J,{value:"technical",children:"技术审核"}),e.jsx(J,{value:"clinical",children:"临床审核"}),e.jsx(J,{value:"final",children:"最终审核"})]})}),e.jsx(r,{span:3,children:e.jsx(j,{placeholder:"审核员",value:ke,onChange:ze,allowClear:!0,style:{width:"100%"},children:ie.map(s=>e.jsx(J,{value:s.name,children:s.name},s.id))})}),e.jsx(r,{span:3,children:e.jsx(u,{onClick:Fe,loading:k,children:"刷新"})})]}),e.jsx(p,{columns:$e,dataSource:Ee,rowKey:"id",loading:k,scroll:{x:1400},pagination:{total:Ee.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`共 ${e} 条记录`}})]},"reviews"),e.jsx(X,{tab:"审核员管理",children:e.jsx(p,{columns:Ae,dataSource:ie,rowKey:"id",pagination:{total:ie.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`共 ${e} 条记录`}})},"reviewers")]})}),e.jsx(v,{title:"分配审核员",open:ne,onCancel:()=>ae(!1),onOk:()=>Ne.submit(),children:e.jsxs(i,{form:Ne,layout:"vertical",onFinish:async e=>{try{await new Promise(e=>setTimeout(e,500)),se(s=>s.map(s=>s.id===(null==re?void 0:re.id)?{...s,assignedTo:e.assignedTo,assignedTime:L().format("YYYY-MM-DD HH:mm:ss"),status:"reviewing"}:s)),ae(!1),le(null),A.success("分配成功")}catch(s){A.error("分配失败")}},children:[e.jsx(i.Item,{name:"assignedTo",label:"选择审核员",rules:[{required:!0,message:"请选择审核员"}],children:e.jsx(j,{placeholder:"请选择审核员",children:ie.map(s=>e.jsx(J,{value:s.name,children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{children:s.name}),e.jsxs("div",{style:{fontSize:12,color:"#666"},children:[s.role," | 工作负载: ",s.workload,"%"]})]}),e.jsx(g,{disabled:!0,value:s.rating,style:{fontSize:12}})]})},s.id))})}),e.jsx(i.Item,{name:"deadline",label:"截止时间",children:e.jsx(y,{showTime:!0,style:{width:"100%"}})}),e.jsx(i.Item,{name:"note",label:"备注",children:e.jsx(Q,{rows:3,placeholder:"请输入分配备注"})})]})}),e.jsx(v,{title:"提交审核结果",open:de,onCancel:()=>oe(!1),onOk:()=>Be.submit(),width:600,children:e.jsxs(i,{form:Be,layout:"vertical",onFinish:async e=>{try{await new Promise(e=>setTimeout(e,1e3));const s="approved"===e.result?"approved":"rejected"===e.result?"rejected":"revision_required";se(i=>i.map(i=>i.id===(null==re?void 0:re.id)?{...i,status:s,progress:100,score:e.score,reviewEndTime:L().format("YYYY-MM-DD HH:mm:ss"),actualTime:(null==re?void 0:re.estimatedTime)||0}:i)),oe(!1),le(null),A.success("审核完成")}catch(s){A.error("提交失败")}},children:[e.jsx(i.Item,{name:"result",label:"审核结果",rules:[{required:!0,message:"请选择审核结果"}],children:e.jsxs(w.Group,{children:[e.jsx(w,{value:"approved",children:"通过"}),e.jsx(w,{value:"revision_required",children:"需要修订"}),e.jsx(w,{value:"rejected",children:"拒绝"})]})}),e.jsx(i.Item,{name:"score",label:"评分",rules:[{required:!0,message:"请给出评分"}],children:e.jsx(f,{min:0,max:100,marks:{0:"0",60:"60",80:"80",100:"100"}})}),e.jsx(i.Item,{name:"summary",label:"审核总结",rules:[{required:!0,message:"请输入审核总结"}],children:e.jsx(Q,{rows:4,placeholder:"请输入审核总结"})}),e.jsx(i.Item,{name:"suggestions",label:"改进建议",children:e.jsx(Q,{rows:3,placeholder:"请输入改进建议"})})]})}),e.jsx(v,{title:"添加问题",open:ce,onCancel:()=>me(!1),onOk:()=>Ye.submit(),children:e.jsxs(i,{form:Ye,layout:"vertical",onFinish:async e=>{try{await new Promise(e=>setTimeout(e,500));const s={id:Date.now().toString(),...e,status:"open",createdBy:"当前用户",createdTime:L().format("YYYY-MM-DD HH:mm:ss")};le(e=>e?{...e,issues:[...e.issues,s]}:null),me(!1),A.success("问题添加成功")}catch(s){A.error("添加失败")}},children:[e.jsx(i.Item,{name:"type",label:"问题类型",rules:[{required:!0,message:"请选择问题类型"}],children:e.jsxs(w.Group,{children:[e.jsx(w,{value:"error",children:"错误"}),e.jsx(w,{value:"warning",children:"警告"}),e.jsx(w,{value:"suggestion",children:"建议"})]})}),e.jsx(i.Item,{name:"severity",label:"严重程度",rules:[{required:!0,message:"请选择严重程度"}],children:e.jsxs(j,{placeholder:"请选择严重程度",children:[e.jsx(J,{value:"critical",children:"严重"}),e.jsx(J,{value:"high",children:"高"}),e.jsx(J,{value:"medium",children:"中"}),e.jsx(J,{value:"low",children:"低"})]})}),e.jsx(i.Item,{name:"category",label:"问题分类",rules:[{required:!0,message:"请输入问题分类"}],children:e.jsx(h,{placeholder:"如：数据质量、格式错误、内容缺失等"})}),e.jsx(i.Item,{name:"title",label:"问题标题",rules:[{required:!0,message:"请输入问题标题"}],children:e.jsx(h,{placeholder:"请输入问题标题"})}),e.jsx(i.Item,{name:"description",label:"问题描述",rules:[{required:!0,message:"请输入问题描述"}],children:e.jsx(Q,{rows:4,placeholder:"请详细描述问题"})}),e.jsx(i.Item,{name:"location",label:"问题位置",children:e.jsx(h,{placeholder:"如：第3章第2节、表格5等"})})]})}),e.jsx(v,{title:"添加评论",open:he,onCancel:()=>xe(!1),onOk:()=>Pe.submit(),children:e.jsxs(i,{form:Pe,layout:"vertical",onFinish:async e=>{try{await new Promise(e=>setTimeout(e,500));const s={id:Date.now().toString(),...e,author:"当前用户",createdTime:L().format("YYYY-MM-DD HH:mm:ss"),isPrivate:!1};le(e=>e?{...e,comments:[...e.comments,s]}:null),xe(!1),A.success("评论添加成功")}catch(s){A.error("添加失败")}},children:[e.jsx(i.Item,{name:"type",label:"评论类型",rules:[{required:!0,message:"请选择评论类型"}],children:e.jsxs(w.Group,{children:[e.jsx(w,{value:"general",children:"一般评论"}),e.jsx(w,{value:"issue",children:"问题反馈"}),e.jsx(w,{value:"suggestion",children:"改进建议"}),e.jsx(w,{value:"approval",children:"审批意见"})]})}),e.jsx(i.Item,{name:"content",label:"评论内容",rules:[{required:!0,message:"请输入评论内容"}],children:e.jsx(Q,{rows:5,placeholder:"请输入评论内容"})})]})}),e.jsx(T,{title:"审核详情",placement:"right",onClose:()=>ue(!1),open:je,width:800,children:re&&e.jsxs("div",{children:[e.jsxs(b,{title:"基本信息",bordered:!0,size:"small",column:2,children:[e.jsx(b.Item,{label:"报告名称",span:2,children:re.reportName}),e.jsx(b.Item,{label:"项目名称",children:re.projectName}),e.jsx(b.Item,{label:"客户名称",children:re.clientName||"-"}),e.jsx(b.Item,{label:"审核类型",children:e.jsx(S,{color:"blue",children:He(re.reviewType)})}),e.jsx(b.Item,{label:"优先级",children:e.jsx(S,{color:Le(re.priority),children:We(re.priority)})}),e.jsx(b.Item,{label:"当前状态",children:e.jsx(S,{color:Re(re.status),children:_e(re.status)})}),e.jsx(b.Item,{label:"审核员",children:re.assignedTo||"未分配"}),e.jsx(b.Item,{label:"提交人",children:re.submittedBy}),e.jsx(b.Item,{label:"提交时间",children:re.submittedTime}),e.jsx(b.Item,{label:"截止时间",children:re.deadline}),e.jsxs(b.Item,{label:"预计时间",children:[re.estimatedTime,"小时"]}),e.jsx(b.Item,{label:"实际时间",children:re.actualTime?`${re.actualTime}小时`:"-"}),e.jsx(b.Item,{label:"评分",children:re.score?`${re.score}分`:"-"})]}),e.jsx(I,{}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[e.jsxs(ee,{level:5,children:["问题列表 (",re.issues.length,")"]}),e.jsx(u,{size:"small",icon:e.jsx(z,{}),onClick:()=>{Ye.resetFields(),me(!0)},children:"添加问题"})]}),re.issues.length>0?e.jsx(C,{size:"small",dataSource:re.issues,renderItem:s=>{return e.jsx(C.Item,{children:e.jsx(C.Item.Meta,{avatar:(i=s.type,{error:e.jsx(M,{style:{color:"#ff4d4f"}}),warning:e.jsx(F,{style:{color:"#faad14"}}),suggestion:e.jsx(U,{style:{color:"#1890ff"}})}[i]),title:e.jsxs("div",{children:[e.jsx(S,{color:"critical"===s.severity?"red":"high"===s.severity?"orange":"blue",children:s.severity}),s.title]}),description:e.jsxs("div",{children:[e.jsx("div",{children:s.description}),e.jsxs("div",{style:{fontSize:12,color:"#999",marginTop:4},children:["位置: ",s.location," | 创建者: ",s.createdBy," | 时间: ",s.createdTime]})]})})});var i}}):e.jsx(q,{description:"暂无问题"})]}),e.jsx(I,{}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[e.jsxs(ee,{level:5,children:["评论记录 (",re.comments.length,")"]}),e.jsx(u,{size:"small",icon:e.jsx(N,{}),onClick:()=>{Pe.resetFields(),xe(!0)},children:"添加评论"})]}),re.comments.length>0?e.jsx(C,{size:"small",dataSource:re.comments,renderItem:s=>e.jsx(C.Item,{children:e.jsx(C.Item.Meta,{avatar:e.jsx(B,{icon:e.jsx(Y,{})}),title:s.author,description:e.jsxs("div",{children:[e.jsx("div",{children:s.content}),e.jsx("div",{style:{color:"#999",fontSize:"12px",marginTop:"4px"},children:s.createdTime})]})})})}):e.jsx(q,{description:"暂无评论"})]})]})}),e.jsx(T,{title:"审核历史",placement:"right",onClose:()=>ve(!1),open:pe,width:600,children:re&&e.jsxs(P,{children:[e.jsx(P.Item,{color:"green",dot:e.jsx(o,{}),children:e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"bold"},children:"报告提交"}),e.jsxs("div",{style:{color:"#666"},children:[re.submittedBy," 提交了报告"]}),e.jsx("div",{style:{fontSize:12,color:"#999"},children:re.submittedTime})]})}),re.assignedTime&&e.jsx(P.Item,{color:"blue",dot:e.jsx(Y,{}),children:e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"bold"},children:"分配审核员"}),e.jsxs("div",{style:{color:"#666"},children:["分配给 ",re.assignedTo]}),e.jsx("div",{style:{fontSize:12,color:"#999"},children:re.assignedTime})]})}),re.reviewStartTime&&e.jsx(P.Item,{color:"orange",dot:e.jsx(D,{}),children:e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"bold"},children:"开始审核"}),e.jsxs("div",{style:{color:"#666"},children:[re.assignedTo," 开始审核"]}),e.jsx("div",{style:{fontSize:12,color:"#999"},children:re.reviewStartTime})]})}),re.reviewEndTime&&e.jsx(P.Item,{color:"approved"===re.status?"green":"rejected"===re.status?"red":"orange",dot:"approved"===re.status?e.jsx(o,{}):"rejected"===re.status?e.jsx(M,{}):e.jsx(F,{}),children:e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"bold"},children:"审核完成"}),e.jsxs("div",{style:{color:"#666"},children:["结果: ",_e(re.status),re.score&&` | 评分: ${re.score}分`]}),e.jsx("div",{style:{fontSize:12,color:"#999"},children:re.reviewEndTime})]})})]})})]})};export{le as default};
