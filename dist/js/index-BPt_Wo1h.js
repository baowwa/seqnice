import{j as e}from"./index-DuFe5DRh.js";import{r as s,h as t,i,N as a}from"./react-vendor-BSBC8BLg.js";import{$ as n,a as l,B as r,a1 as d,V as c,a5 as o,c as u,d as x,a3 as m,a4 as h,S as p,am as j,ao as g,X as y,ad as v,ag as k,ah as S,ai as b,ax as I,ak as C,al as T,s as f,T as q,m as z,ay as _,a7 as w,ac as A,D as B,Q as F,aw as V,aP as G,I as N,az as R,a9 as E,U as Q,Z as M,H as P,Y as $,u as D}from"./antd-vendor-BuqAAsAf.js";const{TextArea:O}=m,{Option:K}=h,{TabPane:J}=j,L=()=>{const[t,i]=s.useState([{id:"1",name:"FastQC",category:"质量控制",version:"0.11.9",description:"高通量测序数据质量控制工具，用于评估原始测序数据的质量",inputFormats:["FASTQ","SAM","BAM"],outputFormats:["HTML","ZIP"],parameters:[{name:"threads",type:"number",required:!1,defaultValue:1,description:"并行线程数",min:1,max:32},{name:"outdir",type:"string",required:!1,defaultValue:"./fastqc_output",description:"输出目录路径"},{name:"format",type:"select",required:!1,defaultValue:"fastq",description:"输入文件格式",options:["fastq","sam","bam"]}],status:"active",author:"Babraham Bioinformatics",createTime:"2023-01-15",updateTime:"2023-12-01",usageCount:1250,documentation:"https://www.bioinformatics.babraham.ac.uk/projects/fastqc/",requirements:["Java 1.8+"]},{id:"2",name:"BWA-MEM",category:"序列比对",version:"0.7.17",description:"Burrows-Wheeler Aligner，用于将测序reads比对到参考基因组",inputFormats:["FASTQ"],outputFormats:["SAM"],parameters:[{name:"reference",type:"file",required:!0,description:"参考基因组文件路径"},{name:"threads",type:"number",required:!1,defaultValue:4,description:"并行线程数",min:1,max:64},{name:"min_seed_length",type:"number",required:!1,defaultValue:19,description:"最小种子长度",min:10,max:50},{name:"band_width",type:"number",required:!1,defaultValue:100,description:"带宽参数",min:50,max:1e3}],status:"active",author:"Heng Li",createTime:"2023-02-10",updateTime:"2023-11-15",usageCount:980,documentation:"http://bio-bwa.sourceforge.net/",requirements:["GCC 4.9+","zlib"]},{id:"3",name:"GATK HaplotypeCaller",category:"变异检测",version:"4.4.0",description:"GATK工具包中的单倍型变异检测工具，用于检测SNP和INDEL",inputFormats:["BAM","CRAM"],outputFormats:["VCF","GVCF"],parameters:[{name:"reference",type:"file",required:!0,description:"参考基因组文件"},{name:"emit_ref_confidence",type:"select",required:!1,defaultValue:"NONE",description:"参考位点置信度输出模式",options:["NONE","BP_RESOLUTION","GVCF"]},{name:"min_base_quality_score",type:"number",required:!1,defaultValue:10,description:"最小碱基质量分数",min:0,max:50},{name:"native_pair_hmm_threads",type:"number",required:!1,defaultValue:4,description:"PairHMM线程数",min:1,max:32}],status:"active",author:"Broad Institute",createTime:"2023-03-05",updateTime:"2023-12-10",usageCount:756,documentation:"https://gatk.broadinstitute.org/",requirements:["Java 8+","Python 3.6+"]},{id:"4",name:"VEP",category:"变异注释",version:"107",description:"Variant Effect Predictor，用于预测变异对基因和蛋白质的影响",inputFormats:["VCF","TXT"],outputFormats:["VCF","JSON","TAB"],parameters:[{name:"species",type:"select",required:!1,defaultValue:"homo_sapiens",description:"物种选择",options:["homo_sapiens","mus_musculus","danio_rerio"]},{name:"assembly",type:"select",required:!1,defaultValue:"GRCh38",description:"基因组版本",options:["GRCh38","GRCh37","GRCm39"]},{name:"cache",type:"boolean",required:!1,defaultValue:!0,description:"使用本地缓存数据库"},{name:"everything",type:"boolean",required:!1,defaultValue:!1,description:"输出所有可用注释"}],status:"active",author:"Ensembl",createTime:"2023-04-12",updateTime:"2023-11-28",usageCount:432,documentation:"https://www.ensembl.org/info/docs/tools/vep/",requirements:["Perl 5.10+","DBI","Archive::Zip"]},{id:"5",name:"STAR",category:"RNA-seq分析",version:"2.7.10a",description:"Spliced Transcripts Alignment to a Reference，用于RNA-seq数据的快速比对",inputFormats:["FASTQ"],outputFormats:["SAM","BAM"],parameters:[{name:"genomeDir",type:"file",required:!0,description:"基因组索引目录"},{name:"runThreadN",type:"number",required:!1,defaultValue:8,description:"运行线程数",min:1,max:64},{name:"outSAMtype",type:"select",required:!1,defaultValue:"BAM SortedByCoordinate",description:"输出文件类型",options:["SAM","BAM Unsorted","BAM SortedByCoordinate"]},{name:"readFilesCommand",type:"string",required:!1,defaultValue:"zcat",description:"读取压缩文件的命令"}],status:"maintenance",author:"Alexander Dobin",createTime:"2023-05-20",updateTime:"2023-10-15",usageCount:324,documentation:"https://github.com/alexdobin/STAR",requirements:["GCC 4.7+","zlib"]}]),[a,q]=s.useState(!1),[z,_]=s.useState(!1),[w,A]=s.useState(null),[B,F]=s.useState(null),[V]=n.useForm(),G=e=>{A(e||null),q(!0),e?V.setFieldsValue(e):V.resetFields()},N=s=>{const t={active:{color:"green",text:"正常"},inactive:{color:"red",text:"停用"},maintenance:{color:"orange",text:"维护中"}}[s];return e.jsx(y,{color:t.color,children:t.text})},R=[{title:"工具名称",dataIndex:"name",key:"name",render:(s,t)=>e.jsxs(p,{children:[e.jsx("strong",{children:s}),e.jsx(y,{color:"blue",children:t.version})]})},{title:"分类",dataIndex:"category",key:"category",render:s=>e.jsx(y,{color:"purple",children:s})},{title:"状态",dataIndex:"status",key:"status",render:e=>N(e)},{title:"使用次数",dataIndex:"usageCount",key:"usageCount",render:s=>e.jsx(v,{count:s,showZero:!0,color:"blue"})},{title:"更新时间",dataIndex:"updateTime",key:"updateTime"},{title:"操作",key:"action",render:(s,a)=>e.jsxs(p,{children:[e.jsx(k,{title:"查看详情",children:e.jsx(r,{type:"text",icon:e.jsx(S,{}),onClick:()=>(F(a),void _(!0))})}),e.jsx(k,{title:"编辑工具",children:e.jsx(r,{type:"text",icon:e.jsx(b,{}),onClick:()=>G(a)})}),e.jsx(k,{title:"运行工具",children:e.jsx(r,{type:"text",icon:e.jsx(I,{}),disabled:"active"!==a.status})}),e.jsx(C,{title:"确定要删除这个工具吗？",onConfirm:()=>{return e=a.id,i(t.filter(s=>s.id!==e)),void f.success("工具删除成功");var e},okText:"确定",cancelText:"取消",children:e.jsx(k,{title:"删除工具",children:e.jsx(r,{type:"text",danger:!0,icon:e.jsx(T,{})})})})]})}];return e.jsxs("div",{children:[e.jsxs(l,{children:[e.jsx("div",{style:{marginBottom:16},children:e.jsx(r,{type:"primary",icon:e.jsx(d,{}),onClick:()=>G(),children:"添加工具"})}),e.jsx(c,{columns:R,dataSource:t,rowKey:"id",pagination:{total:t.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`共 ${e} 个工具`}})]}),e.jsx(o,{title:w?"编辑工具":"添加工具",open:a,onCancel:()=>q(!1),footer:null,width:800,children:e.jsxs(n,{form:V,layout:"vertical",onFinish:async e=>{try{if(w)i(t.map(s=>s.id===w.id?{...s,...e,updateTime:(new Date).toISOString().split("T")[0]}:s)),f.success("工具信息更新成功");else{const s={...e,id:Date.now().toString(),createTime:(new Date).toISOString().split("T")[0],updateTime:(new Date).toISOString().split("T")[0],usageCount:0};i([...t,s]),f.success("工具添加成功")}q(!1),V.resetFields()}catch(s){f.error("操作失败")}},children:[e.jsxs(u,{gutter:16,children:[e.jsx(x,{span:12,children:e.jsx(n.Item,{name:"name",label:"工具名称",rules:[{required:!0,message:"请输入工具名称"}],children:e.jsx(m,{placeholder:"请输入工具名称"})})}),e.jsx(x,{span:12,children:e.jsx(n.Item,{name:"version",label:"版本号",rules:[{required:!0,message:"请输入版本号"}],children:e.jsx(m,{placeholder:"请输入版本号"})})})]}),e.jsxs(u,{gutter:16,children:[e.jsx(x,{span:12,children:e.jsx(n.Item,{name:"category",label:"工具分类",rules:[{required:!0,message:"请选择工具分类"}],children:e.jsxs(h,{placeholder:"请选择工具分类",children:[e.jsx(K,{value:"质量控制",children:"质量控制"}),e.jsx(K,{value:"序列比对",children:"序列比对"}),e.jsx(K,{value:"变异检测",children:"变异检测"}),e.jsx(K,{value:"变异注释",children:"变异注释"}),e.jsx(K,{value:"RNA-seq分析",children:"RNA-seq分析"}),e.jsx(K,{value:"基因组组装",children:"基因组组装"}),e.jsx(K,{value:"功能注释",children:"功能注释"})]})})}),e.jsx(x,{span:12,children:e.jsx(n.Item,{name:"status",label:"状态",rules:[{required:!0,message:"请选择状态"}],children:e.jsxs(h,{placeholder:"请选择状态",children:[e.jsx(K,{value:"active",children:"正常"}),e.jsx(K,{value:"inactive",children:"停用"}),e.jsx(K,{value:"maintenance",children:"维护中"})]})})})]}),e.jsx(n.Item,{name:"description",label:"工具描述",rules:[{required:!0,message:"请输入工具描述"}],children:e.jsx(O,{rows:3,placeholder:"请输入工具描述"})}),e.jsxs(u,{gutter:16,children:[e.jsx(x,{span:12,children:e.jsx(n.Item,{name:"author",label:"作者/机构",rules:[{required:!0,message:"请输入作者或机构"}],children:e.jsx(m,{placeholder:"请输入作者或机构"})})}),e.jsx(x,{span:12,children:e.jsx(n.Item,{name:"documentation",label:"文档链接",children:e.jsx(m,{placeholder:"请输入文档链接"})})})]}),e.jsx(n.Item,{children:e.jsxs(p,{children:[e.jsx(r,{type:"primary",htmlType:"submit",children:w?"更新":"添加"}),e.jsx(r,{onClick:()=>q(!1),children:"取消"})]})})]})}),e.jsx(o,{title:"工具详情",open:z,onCancel:()=>_(!1),footer:[e.jsx(r,{onClick:()=>_(!1),children:"关闭"},"close")],width:900,children:B&&e.jsxs(j,{defaultActiveKey:"1",children:[e.jsx(J,{tab:"基本信息",children:e.jsxs(g,{column:2,bordered:!0,children:[e.jsx(g.Item,{label:"工具名称",children:B.name}),e.jsx(g.Item,{label:"版本号",children:B.version}),e.jsx(g.Item,{label:"分类",children:B.category}),e.jsx(g.Item,{label:"状态",children:N(B.status)}),e.jsx(g.Item,{label:"作者/机构",children:B.author}),e.jsx(g.Item,{label:"使用次数",children:B.usageCount}),e.jsx(g.Item,{label:"创建时间",children:B.createTime}),e.jsx(g.Item,{label:"更新时间",children:B.updateTime}),e.jsx(g.Item,{label:"描述",span:2,children:B.description}),e.jsx(g.Item,{label:"输入格式",span:2,children:B.inputFormats.map(s=>e.jsx(y,{color:"green",children:s},s))}),e.jsx(g.Item,{label:"输出格式",span:2,children:B.outputFormats.map(s=>e.jsx(y,{color:"blue",children:s},s))}),e.jsx(g.Item,{label:"系统要求",span:2,children:B.requirements.map(s=>e.jsx(y,{color:"orange",children:s},s))})]})},"1"),e.jsx(J,{tab:"参数配置",children:e.jsx(c,{dataSource:B.parameters,rowKey:"name",pagination:!1,columns:[{title:"参数名",dataIndex:"name",key:"name",render:(s,t)=>e.jsxs(p,{children:[e.jsx("code",{children:s}),t.required&&e.jsx(y,{color:"red",children:"必需"})]})},{title:"类型",dataIndex:"type",key:"type",render:s=>e.jsx(y,{color:"purple",children:s})},{title:"默认值",dataIndex:"defaultValue",key:"defaultValue",render:s=>void 0!==s?e.jsx("code",{children:String(s)}):"-"},{title:"描述",dataIndex:"description",key:"description"}]})},"2")]})})]})},{TabPane:W}=j,{Option:H}=h,{Title:U,Text:Z}=q,{Step:Y}=w,{TextArea:X}=m,ee=()=>{const[t,i]=s.useState("pending"),[a,g]=s.useState(!1),[v,k]=s.useState(!1),[b,C]=s.useState(!1),[T,q]=s.useState(null),[D]=n.useForm(),[O,K]=s.useState([]),[J,L]=s.useState(0),[W,ee]=s.useState([{id:"SEQ_001",sequencingTaskId:"SEQ_20240520_001",poolCount:2,dataSize:"200GB",createTime:"2024-05-20 18:00:00",status:"pending",samples:["S001","S002","S003"]},{id:"SEQ_002",sequencingTaskId:"SEQ_20240520_002",poolCount:1,dataSize:"100GB",createTime:"2024-05-20 19:00:00",status:"pending",samples:["S004","S005"]},{id:"SEQ_003",sequencingTaskId:"SEQ_20240520_003",poolCount:3,dataSize:"300GB",createTime:"2024-05-20 20:00:00",status:"pending",samples:["S006","S007","S008","S009"]}]),[se,te]=s.useState([{id:"ANALYSIS_20240520_001",taskName:"标准胚系变异分析",progress:65,currentStep:"base_recalibration",status:"running",operator:"陈七",createTime:"2024-05-20 18:00:00",estimatedTime:"06:00",runningTime:"2小时",steps:{qc:{status:"completed",progress:100,duration:"15分钟"},trimming:{status:"completed",progress:100,duration:"20分钟"},alignment:{status:"completed",progress:100,duration:"45分钟"},mark_duplicates:{status:"completed",progress:100,duration:"10分钟"},base_recalibration:{status:"running",progress:65,duration:"已运行30分钟"},variant_calling:{status:"pending",progress:0,duration:"-"},annotation:{status:"pending",progress:0,duration:"-"},reporting:{status:"pending",progress:0,duration:"-"}}}]),[ie,ae]=s.useState([{id:"ANALYSIS_20240519_001",taskName:"全基因组变异分析",status:"completed",operator:"李四",createTime:"2024-05-19 10:00:00",completeTime:"2024-05-19 16:30:00",duration:"6小时30分钟",sampleCount:3,variantCount:"4.2M",alignmentRate:"98.5%",coverage:"50x"}]),ne=[{title:"测序任务ID",dataIndex:"sequencingTaskId",key:"sequencingTaskId",render:s=>e.jsx(Z,{strong:!0,children:s})},{title:"混样数",dataIndex:"poolCount",key:"poolCount",render:e=>`${e}混样`},{title:"数据量",dataIndex:"dataSize",key:"dataSize"},{title:"创建时间",dataIndex:"createTime",key:"createTime"},{title:"操作",key:"action",render:(s,t)=>e.jsxs(p,{children:[e.jsx(r,{type:"primary",size:"small",icon:e.jsx(I,{}),onClick:()=>de(t),children:"开始分析"}),e.jsx(r,{size:"small",icon:e.jsx(S,{}),onClick:()=>ce(t),children:"查看详情"})]})}],le=[{title:"任务ID",dataIndex:"id",key:"id",render:s=>e.jsx(Z,{strong:!0,children:s})},{title:"任务名称",dataIndex:"taskName",key:"taskName"},{title:"进度",dataIndex:"progress",key:"progress",render:s=>e.jsx($,{percent:s,size:"small",status:100===s?"success":"active"})},{title:"当前步骤",dataIndex:"currentStep",key:"currentStep",render:e=>({qc:"数据质控",trimming:"接头去除",alignment:"序列比对",mark_duplicates:"标记重复",base_recalibration:"质量重校准",variant_calling:"变异检测",annotation:"变异注释",reporting:"生成报告"}[e]||e)},{title:"负责人",dataIndex:"operator",key:"operator"},{title:"运行时间",dataIndex:"runningTime",key:"runningTime"},{title:"操作",key:"action",render:(s,t)=>e.jsxs(p,{children:[e.jsx(r,{size:"small",icon:e.jsx(S,{}),onClick:()=>ce(t),children:"查看详情"}),e.jsx(r,{size:"small",icon:e.jsx(V,{}),onClick:()=>ue(t),children:"暂停"}),e.jsx(r,{size:"small",danger:!0,icon:e.jsx(G,{}),onClick:()=>xe(t),children:"停止"})]})}],re=[{title:"任务ID",dataIndex:"id",key:"id",render:s=>e.jsx(Z,{strong:!0,children:s})},{title:"任务名称",dataIndex:"taskName",key:"taskName"},{title:"状态",dataIndex:"status",key:"status",render:s=>e.jsx(y,{color:"completed"===s?"success":"error",children:"completed"===s?"已完成":"失败"})},{title:"负责人",dataIndex:"operator",key:"operator"},{title:"完成时间",dataIndex:"completeTime",key:"completeTime"},{title:"耗时",dataIndex:"duration",key:"duration"},{title:"操作",key:"action",render:(s,t)=>e.jsxs(p,{children:[e.jsx(r,{size:"small",icon:e.jsx(S,{}),onClick:()=>oe(t),children:"查看结果"}),e.jsx(r,{size:"small",icon:e.jsx(E,{}),onClick:()=>me(t),children:"下载"})]})}],de=e=>{k(!0),D.setFieldsValue({sequencingTaskId:e.sequencingTaskId,samples:e.samples})},ce=e=>{q(e),C(!0)},oe=e=>{q(e),C(!0)},ue=e=>{f.info(`暂停任务: ${e.id}`)},xe=e=>{o.confirm({title:"确认停止任务",content:`确定要停止任务 ${e.id} 吗？`,onOk:()=>{f.success("任务已停止")}})},me=e=>{f.info(`下载结果: ${e.id}`)},he=()=>{L(J+1)},pe=()=>{L(J-1)};return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[e.jsx(U,{level:3,children:"生信分析任务中心"}),e.jsxs(p,{children:[e.jsx(r,{type:"primary",icon:e.jsx(d,{}),onClick:()=>k(!0),children:"创建分析任务"}),e.jsx(r,{icon:e.jsx(z,{}),onClick:()=>g(!0),children:"刷新"})]})]}),e.jsxs(u,{gutter:16,style:{marginBottom:16},children:[e.jsx(x,{span:6,children:e.jsx(l,{size:"small",children:e.jsx(F,{title:"待分析任务",value:W.length,valueStyle:{color:"#1890ff"},prefix:e.jsx(Q,{})})})}),e.jsx(x,{span:6,children:e.jsx(l,{size:"small",children:e.jsx(F,{title:"分析中任务",value:se.length,valueStyle:{color:"#faad14"},prefix:e.jsx(I,{})})})}),e.jsx(x,{span:6,children:e.jsx(l,{size:"small",children:e.jsx(F,{title:"已完成任务",value:ie.length,valueStyle:{color:"#52c41a"},prefix:e.jsx(M,{})})})}),e.jsx(x,{span:6,children:e.jsx(l,{size:"small",children:e.jsx(F,{title:"成功率",value:72.5,precision:1,valueStyle:{color:"#52c41a"},prefix:e.jsx(P,{}),suffix:"%"})})})]}),e.jsx(l,{title:"快捷操作面板",size:"small",style:{marginBottom:16},children:e.jsxs(u,{gutter:[16,16],children:[e.jsx(x,{span:6,children:e.jsx(l,{size:"small",hoverable:!0,children:e.jsx(F,{title:"🚀 批量操作",value:"",formatter:()=>e.jsxs(p,{direction:"vertical",size:"small",children:[e.jsx(r,{size:"small",block:!0,children:"批量创建任务"}),e.jsx(r,{size:"small",block:!0,children:"批量下载结果"})]})})})}),e.jsx(x,{span:6,children:e.jsx(l,{size:"small",hoverable:!0,children:e.jsx(F,{title:"📊 分析监控",value:"",formatter:()=>e.jsxs(p,{direction:"vertical",size:"small",children:[e.jsx(r,{size:"small",block:!0,children:"运行中任务"}),e.jsx(r,{size:"small",block:!0,children:"系统负载"})]})})})}),e.jsx(x,{span:6,children:e.jsx(l,{size:"small",hoverable:!0,children:e.jsx(F,{title:"⚙️ 流程管理",value:"",formatter:()=>e.jsxs(p,{direction:"vertical",size:"small",children:[e.jsx(r,{size:"small",block:!0,children:"流程模板"}),e.jsx(r,{size:"small",block:!0,children:"参数设置"})]})})})}),e.jsx(x,{span:6,children:e.jsx(l,{size:"small",hoverable:!0,children:e.jsx(F,{title:"📁 数据管理",value:"",formatter:()=>e.jsxs(p,{direction:"vertical",size:"small",children:[e.jsx(r,{size:"small",block:!0,children:"结果浏览"}),e.jsx(r,{size:"small",block:!0,children:"数据归档"})]})})})})]})}),e.jsx(l,{children:e.jsx(j,{activeKey:t,onChange:i,items:[{key:"pending",label:`待分析任务(${W.length})`,children:e.jsxs("div",{children:[e.jsx("div",{style:{marginBottom:16},children:e.jsxs(p,{children:[e.jsx(_,{indeterminate:O.length>0&&O.length<W.length,checked:O.length===W.length,onChange:e=>{e.target.checked?K(W.map(e=>e.id)):K([])},children:"全选"}),e.jsx(r,{type:"primary",disabled:0===O.length,onClick:()=>{0!==O.length?f.info(`批量创建 ${O.length} 个分析任务`):f.warning("请选择要批量创建任务的测序数据")},children:"批量创建分析任务"})]})}),e.jsx(c,{columns:ne,dataSource:W,rowKey:"id",loading:a,rowSelection:{selectedRowKeys:O,onChange:K},pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`共 ${e} 条记录`}})]})},{key:"running",label:`分析中任务(${se.length})`,children:e.jsx(c,{columns:le,dataSource:se,rowKey:"id",loading:a,pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`共 ${e} 条记录`}})},{key:"completed",label:`已完成任务(${ie.length})`,children:e.jsx(c,{columns:re,dataSource:ie,rowKey:"id",loading:a,pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`共 ${e} 条记录`}})}]})}),e.jsxs(o,{title:"创建生信分析任务",open:v,onCancel:()=>{k(!1),L(0),D.resetFields()},footer:null,width:800,children:[e.jsxs(w,{current:J,style:{marginBottom:24},children:[e.jsx(Y,{title:"选择测序任务"}),e.jsx(Y,{title:"选择分析流程"}),e.jsx(Y,{title:"任务设置"})]}),e.jsxs(n,{form:D,layout:"vertical",onFinish:e=>{f.success("分析任务创建成功"),k(!1),D.resetFields(),L(0)},children:[0===J&&e.jsxs("div",{children:[e.jsx(A,{message:"选择已完成测序且未分析的任务",type:"info",style:{marginBottom:16}}),e.jsx(n.Item,{name:"sequencingTaskId",label:"测序任务ID",rules:[{required:!0,message:"请选择测序任务"}],children:e.jsxs(h,{placeholder:"请选择测序任务",children:[e.jsx(H,{value:"SEQ_20240520_001",children:"SEQ_20240520_001 - 混样数:2 - 数据量:200GB"}),e.jsx(H,{value:"SEQ_20240520_002",children:"SEQ_20240520_002 - 混样数:1 - 数据量:100GB"}),e.jsx(H,{value:"SEQ_20240520_003",children:"SEQ_20240520_003 - 混样数:3 - 数据量:300GB"})]})}),e.jsx("div",{style:{textAlign:"right"},children:e.jsx(r,{type:"primary",onClick:he,children:"下一步:选择分析流程"})})]}),1===J&&e.jsxs("div",{children:[e.jsx(n.Item,{name:"analysisType",label:"分析类型",rules:[{required:!0,message:"请选择分析类型"}],children:e.jsxs(h,{placeholder:"请选择分析类型",children:[e.jsx(H,{value:"WGS",children:"全基因组测序 (WGS)"}),e.jsx(H,{value:"WES",children:"全外显子测序 (WES)"}),e.jsx(H,{value:"RNA-seq",children:"RNA测序"}),e.jsx(H,{value:"ChIP-seq",children:"ChIP测序"})]})}),e.jsx(n.Item,{name:"pipelineTemplate",label:"流程模板",rules:[{required:!0,message:"请选择流程模板"}],children:e.jsxs(h,{placeholder:"请选择流程模板",children:[e.jsx(H,{value:"germline",children:"标准胚系变异分析 (Germline Variant Calling)"}),e.jsx(H,{value:"somatic",children:"体细胞变异分析 (Somatic Variant Calling)"}),e.jsx(H,{value:"structural",children:"结构变异分析 (Structural Variant Analysis)"}),e.jsx(H,{value:"cnv",children:"拷贝数变异分析 (CNV Analysis)"})]})}),e.jsx(n.Item,{name:"referenceGenome",label:"参考基因组",rules:[{required:!0,message:"请选择参考基因组"}],children:e.jsxs(h,{placeholder:"请选择参考基因组",children:[e.jsx(H,{value:"GRCh38",children:"GRCh38 (hg38)"}),e.jsx(H,{value:"GRCh37",children:"GRCh37 (hg19)"})]})}),e.jsx("div",{style:{textAlign:"right"},children:e.jsxs(p,{children:[e.jsx(r,{onClick:pe,children:"上一步"}),e.jsx(r,{type:"primary",onClick:he,children:"下一步:任务设置"})]})})]}),2===J&&e.jsxs("div",{children:[e.jsxs(u,{gutter:16,children:[e.jsx(x,{span:12,children:e.jsx(n.Item,{name:"taskName",label:"任务名称",rules:[{required:!0,message:"请输入任务名称"}],children:e.jsx(m,{placeholder:"请输入任务名称"})})}),e.jsx(x,{span:12,children:e.jsx(n.Item,{name:"operator",label:"负责人",rules:[{required:!0,message:"请选择负责人"}],children:e.jsxs(h,{placeholder:"请选择负责人",children:[e.jsx(H,{value:"陈七",children:"生信分析员A"}),e.jsx(H,{value:"李四",children:"生信分析员B"})]})})})]}),e.jsxs(u,{gutter:16,children:[e.jsx(x,{span:12,children:e.jsx(n.Item,{name:"priority",label:"优先级",rules:[{required:!0,message:"请选择优先级"}],children:e.jsxs(h,{placeholder:"请选择优先级",children:[e.jsx(H,{value:"low",children:"低"}),e.jsx(H,{value:"medium",children:"普通"}),e.jsx(H,{value:"high",children:"高"}),e.jsx(H,{value:"urgent",children:"紧急"})]})})}),e.jsx(x,{span:12,children:e.jsx(n.Item,{name:"computeResource",label:"计算资源",rules:[{required:!0,message:"请选择计算资源"}],children:e.jsxs(h,{placeholder:"请选择计算资源",children:[e.jsx(H,{value:"standard",children:"标准节点 (32核, 128GB内存)"}),e.jsx(H,{value:"high_mem",children:"高内存节点 (64核, 256GB内存)"}),e.jsx(H,{value:"gpu",children:"GPU节点 (32核, 128GB内存, 4GPU)"})]})})})]}),e.jsx(n.Item,{name:"description",label:"备注",children:e.jsx(X,{rows:3,placeholder:"请输入备注信息"})}),e.jsx("div",{style:{textAlign:"right"},children:e.jsxs(p,{children:[e.jsx(r,{onClick:pe,children:"上一步"}),e.jsx(r,{type:"primary",htmlType:"submit",children:"创建分析任务"})]})})]})]})]}),e.jsx(B,{title:(null==T?void 0:T.id)||"任务详情",placement:"right",size:"large",open:b,onClose:()=>C(!1),children:T&&e.jsxs("div",{children:["running"===T.status&&e.jsxs("div",{children:[e.jsxs(l,{title:"任务信息",size:"small",style:{marginBottom:16},children:[e.jsxs(u,{gutter:16,children:[e.jsx(x,{span:8,children:e.jsx(F,{title:"状态",value:"🔄 分析中"})}),e.jsx(x,{span:8,children:e.jsx(F,{title:"负责人",value:T.operator})}),e.jsx(x,{span:8,children:e.jsx(F,{title:"创建时间",value:T.createTime})})]}),e.jsxs(u,{gutter:16,style:{marginTop:16},children:[e.jsx(x,{span:8,children:e.jsx(F,{title:"进度",value:`${T.progress}%`})}),e.jsx(x,{span:8,children:e.jsx(F,{title:"预计完成",value:T.estimatedTime})}),e.jsx(x,{span:8,children:e.jsx(F,{title:"已运行",value:T.runningTime})})]})]}),e.jsx(l,{title:"分析步骤进度",size:"small",style:{marginBottom:16},children:e.jsx(c,{size:"small",columns:[{title:"步骤",dataIndex:"step",key:"step"},{title:"状态",dataIndex:"status",key:"status",render:s=>({completed:e.jsx(y,{color:"success",children:"✅ 完成"}),running:e.jsx(y,{color:"processing",children:"🔄 运行中"}),pending:e.jsx(y,{color:"default",children:"⏳ 待开始"})}[s])},{title:"进度",dataIndex:"progress",key:"progress",render:e=>`${e}%`},{title:"耗时",dataIndex:"duration",key:"duration"}],dataSource:[{key:"1",step:"数据质控",...T.steps.qc},{key:"2",step:"接头去除",...T.steps.trimming},{key:"3",step:"序列比对",...T.steps.alignment},{key:"4",step:"标记重复",...T.steps.mark_duplicates},{key:"5",step:"质量重校准",...T.steps.base_recalibration},{key:"6",step:"变异检测",...T.steps.variant_calling},{key:"7",step:"变异注释",...T.steps.annotation},{key:"8",step:"生成报告",...T.steps.reporting}],pagination:!1})}),e.jsx(l,{title:"实时日志",size:"small",children:e.jsxs("div",{style:{height:200,overflow:"auto",backgroundColor:"#f5f5f5",padding:8},children:[e.jsx(Z,{code:!0,children:"2024-05-20 20:15:00 - 开始碱基质量重校准步骤"}),e.jsx("br",{}),e.jsx(Z,{code:!0,children:"2024-05-20 20:20:00 - 处理样本S001"}),e.jsx("br",{}),e.jsx(Z,{code:!0,children:"2024-05-20 20:25:00 - 处理样本S002"}),e.jsx("br",{}),e.jsx(Z,{code:!0,children:"2024-05-20 20:30:00 - 处理样本S003"}),e.jsx("br",{}),e.jsx(Z,{code:!0,children:"2024-05-20 20:35:00 - 质量重校准进度: 65%"}),e.jsx("br",{})]})}),e.jsx("div",{style:{marginTop:16,textAlign:"center"},children:e.jsxs(p,{children:[e.jsx(r,{icon:e.jsx(V,{}),children:"暂停任务"}),e.jsx(r,{danger:!0,icon:e.jsx(G,{}),children:"停止任务"}),e.jsx(r,{icon:e.jsx(N,{}),children:"查看详细日志"})]})})]}),"completed"===T.status&&e.jsxs("div",{children:[e.jsx(l,{title:"结果概览",size:"small",style:{marginBottom:16},children:e.jsxs(u,{gutter:16,children:[e.jsx(x,{span:6,children:e.jsx(F,{title:"总样本数",value:T.sampleCount})}),e.jsx(x,{span:6,children:e.jsx(F,{title:"比对率",value:T.alignmentRate})}),e.jsx(x,{span:6,children:e.jsx(F,{title:"平均覆盖度",value:T.coverage})}),e.jsx(x,{span:6,children:e.jsx(F,{title:"变异总数",value:T.variantCount})})]})}),e.jsx(l,{title:"质量评估报告",size:"small",style:{marginBottom:16},children:e.jsx(R,{size:"small",dataSource:["📊 FastQC报告: 所有样本质控通过","📊 比对统计: 各样本比对率均在98%以上","📊 覆盖度分析: 目标区域覆盖度均匀","📊 变异统计: 变异类型分布正常"],renderItem:s=>e.jsx(R.Item,{children:s})})}),e.jsx(l,{title:"结果文件列表",size:"small",children:e.jsx(c,{size:"small",columns:[{title:"文件类型",dataIndex:"type",key:"type"},{title:"文件大小",dataIndex:"size",key:"size"},{title:"下载次数",dataIndex:"downloads",key:"downloads"},{title:"操作",key:"action",render:()=>e.jsx(r,{size:"small",icon:e.jsx(E,{}),children:"下载"})}],dataSource:[{key:"1",type:"变异检测VCF文件",size:"2.5GB",downloads:5},{key:"2",type:"变异注释报告",size:"1.2GB",downloads:3},{key:"3",type:"分析汇总报告",size:"15MB",downloads:10},{key:"4",type:"原始数据质控报告",size:"5MB",downloads:2}],pagination:!1})})]})]})})]})},se=()=>e.jsxs("div",{children:[e.jsx(D,{style:{margin:"16px 0"},children:e.jsx(D.Item,{children:"生信分析"})}),e.jsxs(t,{children:[e.jsx(i,{index:!0,element:e.jsx(a,{to:"tasks",replace:!0})}),e.jsx(i,{path:"tools",element:e.jsx(L,{})}),e.jsx(i,{path:"tasks",element:e.jsx(ee,{})})]})]});export{se as default};
