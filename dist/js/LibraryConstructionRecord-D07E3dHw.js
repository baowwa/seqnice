import{j as e}from"./index-B3ZSLooO.js";import{r as i}from"./react-vendor-BSBC8BLg.js";import{$ as r,a as n,c as t,d as s,T as l,aT as a,S as d,B as o,ar as c,a1 as m,Q as x,aE as h,Z as j,aU as u,y as p,am as g,X as y,n as f,a7 as b,a2 as v,a9 as I,a4 as C,V as D,O as S,aS as w,af as N,aI as k,ac as z,az as A,A as T,a5 as q,a3 as M,l as P,at as B,D as F,b as L,ai as Y,al as _,ag as V,aq as $,ah as O,s as R}from"./antd-vendor-BuqAAsAf.js";const{Title:H,Text:K,Paragraph:E}=l,{Option:X}=C,{TextArea:Q}=M,{TabPane:G}=g,{Panel:J}=k,{Step:U}=b,Z=()=>{const[l,E]=i.useState(!1),[Z,W]=i.useState("basic"),[ee,ie]=i.useState([]),[re,ne]=i.useState(null),[te,se]=i.useState([]),[le,ae]=i.useState([]),[de,oe]=i.useState(null),[ce,me]=i.useState(!1),[xe,he]=i.useState(!1),[je,ue]=i.useState(!1),[pe,ge]=i.useState(!1),[ye,fe]=i.useState(!1),[be,ve]=i.useState(!1),[Ie]=r.useForm(),[Ce]=r.useForm(),[De]=r.useForm(),[Se]=r.useForm(),[we]=r.useForm(),[Ne]=r.useForm(),ke=[{id:"lib_record_001",sampleId:"sample_001",sampleCode:"S001",sampleName:"åœŸå£¤æ ·æœ¬-1",inputDNAAmount:1e3,inputDNAConcentration:50.2,inputDNAVolume:20,inputDNAQuality:1.85,libraryConcentration:15.6,libraryVolume:50,libraryYield:780,fragmentSizeDistribution:{mean:420,median:415,mode:410,range:"200-800"},qcMethod:"bioanalyzer",qcConcentration:15.6,qcVolume:50,qcMolarity:45.2,peakSize:420,dnaIntegrity:8.5,adapterDimerPercent:2.1,qcStatus:"pass",operator:"æå®éªŒå‘˜",recordTime:"2024-01-16 16:30:00",verified:!0,notes:"æ–‡åº“æ„å»ºæˆåŠŸï¼Œè´¨é‡è‰¯å¥½"},{id:"lib_record_002",sampleId:"sample_002",sampleCode:"S002",sampleName:"æ°´æ ·-1",inputDNAAmount:800,inputDNAConcentration:40.1,inputDNAVolume:20,inputDNAQuality:1.92,libraryConcentration:12.3,libraryVolume:50,libraryYield:615,fragmentSizeDistribution:{mean:380,median:375,mode:370,range:"180-750"},qcMethod:"bioanalyzer",qcConcentration:12.3,qcVolume:50,qcMolarity:35.8,peakSize:380,dnaIntegrity:7.8,adapterDimerPercent:3.2,qcStatus:"warning",qcNotes:"æ¥å¤´äºŒèšä½“ç•¥é«˜",operator:"æå®éªŒå‘˜",recordTime:"2024-01-16 16:30:00",verified:!0,notes:"æ–‡åº“æ„å»ºæˆåŠŸï¼Œéœ€æ³¨æ„æ¥å¤´äºŒèšä½“"}],ze={id:"lib_params_001",libraryType:"illumina",constructionMethod:"tagmentation",kitName:"Nextera XT DNA Library Prep Kit",kitVersion:"v3",protocol:"Illumina Nextera XT Protocol",fragmentationMethod:"enzymatic",targetFragmentSize:400,fragmentationTime:5,fragmentationTemperature:55,adapterType:"Nextera XT Index Kit",adapterConcentration:"2.5 Î¼M",ligationTime:5,ligationTemperature:55,pcrCycles:12,pcrPrimer:"Nextera PCR Primer Cocktail",pcrPolymerase:"Nextera PCR Master Mix",purificationMethod:"beads",beadRatio:.9,elutionVolume:50,environmentalConditions:{temperature:22,humidity:45,pressure:1013},operator:"æå®éªŒå‘˜",startTime:"2024-01-16 14:00:00",estimatedEndTime:"2024-01-16 18:00:00",notes:"æ ‡å‡†Illuminaæ–‡åº“æ„å»ºæµç¨‹"},Ae=[{id:"reagent_001",name:"Tagment DNA Buffer",type:"buffer",catalog:"15027866",lot:"LOT20240110",concentration:"5Ã—",volume:10,supplier:"Illumina",expiryDate:"2024-12-31",storageCondition:"-20Â°C"},{id:"reagent_002",name:"Amplicon Tagment Mix",type:"enzyme",catalog:"15027865",lot:"LOT20240108",concentration:"1Ã—",volume:5,supplier:"Illumina",expiryDate:"2024-12-31",storageCondition:"-20Â°C"},{id:"reagent_003",name:"Nextera PCR Master Mix",type:"enzyme",catalog:"15028267",lot:"LOT20240105",concentration:"2Ã—",volume:15,supplier:"Illumina",expiryDate:"2024-12-31",storageCondition:"-20Â°C"},{id:"reagent_004",name:"AMPure XP Beads",type:"bead",catalog:"A63881",lot:"LOT20240112",concentration:"1Ã—",volume:100,supplier:"Beckman Coulter",expiryDate:"2025-06-30",storageCondition:"4Â°C"}];i.useEffect(()=>{E(!0),setTimeout(()=>{ie(ke),ne(ze),se(Ae),E(!1)},1e3)},[]);const Te=e=>({pass:"success",warning:"warning",fail:"error",pending:"default"}[e]||"default"),qe=e=>({pass:"é€šè¿‡",warning:"è­¦å‘Š",fail:"å¤±è´¥",pending:"å¾…æ£€"}[e]||e),Me=e=>({enzyme:"#52c41a",buffer:"#1890ff",adapter:"#722ed1",primer:"#fa8c16",bead:"#13c2c2",dye:"#eb2f96",other:"#666666"}[e]||"#666666"),Pe=e=>{oe(e||null),e?Ce.setFieldsValue({...e,recordTime:S(e.recordTime)}):Ce.resetFields(),me(!0)},Be=[{title:"æ ·æœ¬ç¼–å·",dataIndex:"sampleCode",key:"sampleCode",width:100,fixed:"left"},{title:"æ ·æœ¬åç§°",dataIndex:"sampleName",key:"sampleName",width:150},{title:"è¾“å…¥DNA(ng)",dataIndex:"inputDNAAmount",key:"inputDNAAmount",width:100},{title:"è¾“å…¥æµ“åº¦(ng/Î¼L)",dataIndex:"inputDNAConcentration",key:"inputDNAConcentration",width:120,render:e=>e.toFixed(1)},{title:"æ–‡åº“æµ“åº¦(ng/Î¼L)",dataIndex:"libraryConcentration",key:"libraryConcentration",width:120,render:i=>e.jsx("span",{style:{color:i<2?"#ff4d4f":"#52c41a"},children:i.toFixed(1)})},{title:"æ–‡åº“äº§é‡(ng)",dataIndex:"libraryYield",key:"libraryYield",width:100},{title:"å¹³å‡ç‰‡æ®µå¤§å°(bp)",dataIndex:["fragmentSizeDistribution","mean"],key:"fragmentSize",width:120},{title:"æ‘©å°”æµ“åº¦(nM)",dataIndex:"qcMolarity",key:"qcMolarity",width:100,render:e=>e?e.toFixed(1):"-"},{title:"DNAå®Œæ•´æ€§",dataIndex:"dnaIntegrity",key:"dnaIntegrity",width:100,render:i=>i?e.jsx("span",{style:{color:i<7?"#ff4d4f":"#52c41a"},children:i.toFixed(1)}):"-"},{title:"æ¥å¤´äºŒèšä½“(%)",dataIndex:"adapterDimerPercent",key:"adapterDimerPercent",width:120,render:i=>i?e.jsxs("span",{style:{color:i>5?"#ff4d4f":"#52c41a"},children:[i.toFixed(1),"%"]}):"-"},{title:"è´¨æ§çŠ¶æ€",dataIndex:"qcStatus",key:"qcStatus",width:100,render:i=>e.jsx(y,{color:Te(i),children:qe(i)})},{title:"éªŒè¯çŠ¶æ€",dataIndex:"verified",key:"verified",width:100,render:i=>e.jsx(y,{color:i?"success":"warning",children:i?"å·²éªŒè¯":"å¾…éªŒè¯"})},{title:"æ“ä½œ",key:"action",width:150,fixed:"right",render:(i,r)=>{const n=(e=>{const i=[];e.libraryConcentration<2&&i.push("æ–‡åº“æµ“åº¦è¿‡ä½ï¼Œå¯èƒ½å½±å“æµ‹åºè´¨é‡");const r=.7*e.inputDNAAmount;if(e.libraryYield<.5*r&&i.push("æ–‡åº“äº§é‡è¿‡ä½ï¼Œå»ºè®®æ£€æŸ¥æ„å»ºæµç¨‹"),re){const r=re.targetFragmentSize,n=e.fragmentSizeDistribution.mean;Math.abs(n-r)>.3*r&&i.push("ç‰‡æ®µå¤§å°åç¦»ç›®æ ‡å€¼è¿‡å¤š")}return e.adapterDimerPercent&&e.adapterDimerPercent>5&&i.push("æ¥å¤´äºŒèšä½“å«é‡è¿‡é«˜ï¼Œå¯èƒ½å½±å“æµ‹åºè´¨é‡"),e.dnaIntegrity&&e.dnaIntegrity<7&&i.push("DNAå®Œæ•´æ€§è¾ƒä½ï¼Œå»ºè®®é‡æ–°æ„å»º"),{valid:0===i.length,errors:i}})(r);return e.jsxs(d,{children:[e.jsx(V,{title:n.valid?"æ•°æ®æ­£å¸¸":n.errors.join("; "),children:e.jsx(o,{type:"link",size:"small",icon:n.valid?e.jsx(j,{}):e.jsx($,{}),style:{color:n.valid?"#52c41a":"#ff4d4f"}})}),e.jsx(o,{type:"link",size:"small",icon:e.jsx(O,{}),onClick:()=>Pe(r),children:"æŸ¥çœ‹"}),e.jsx(o,{type:"link",size:"small",icon:e.jsx(Y,{}),onClick:()=>Pe(r),children:"ç¼–è¾‘"})]})}}],Fe=[{title:"è¯•å‰‚åç§°",dataIndex:"name",key:"name"},{title:"ç±»å‹",dataIndex:"type",key:"type",render:i=>e.jsx(y,{color:Me(i),children:"enzyme"===i?"é…¶":"buffer"===i?"ç¼“å†²æ¶²":"adapter"===i?"æ¥å¤´":"primer"===i?"å¼•ç‰©":"bead"===i?"ç£ç ":"dye"===i?"æŸ“æ–™":"å…¶ä»–"})},{title:"è´§å·",dataIndex:"catalog",key:"catalog"},{title:"æ‰¹å·",dataIndex:"lot",key:"lot"},{title:"æµ“åº¦",dataIndex:"concentration",key:"concentration"},{title:"ç”¨é‡",dataIndex:"volume",key:"volume",render:e=>`${e} Î¼L`},{title:"ä¾›åº”å•†",dataIndex:"supplier",key:"supplier"},{title:"æœ‰æ•ˆæœŸ",dataIndex:"expiryDate",key:"expiryDate",render:i=>{const r=S(i).isBefore(S()),n=S(i).isBefore(S().add(30,"day"));return e.jsx("span",{style:{color:r?"#ff4d4f":n?"#faad14":"#52c41a"},children:i})}},{title:"æ“ä½œ",key:"action",render:(i,r)=>e.jsxs(d,{children:[e.jsx(o,{type:"link",size:"small",icon:e.jsx(Y,{}),children:"ç¼–è¾‘"}),e.jsx(o,{type:"link",size:"small",icon:e.jsx(_,{}),danger:!0,children:"åˆ é™¤"})]})}];return e.jsxs("div",{style:{padding:"24px"},children:[e.jsx(n,{style:{marginBottom:24},children:e.jsxs(t,{gutter:16,align:"middle",children:[e.jsxs(s,{span:18,children:[e.jsxs(H,{level:3,style:{margin:0},children:[e.jsx(a,{style:{marginRight:8}}),"æ–‡åº“æ„å»ºæ­¥éª¤è®°å½•"]}),e.jsx(K,{type:"secondary",children:"ğŸ§¬ è¯¦ç»†è®°å½•æ–‡åº“æ„å»ºè¿‡ç¨‹ä¸­çš„å‚æ•°è®¾ç½®ã€è´¨é‡æ£€æµ‹å’Œç»“æœæ•°æ®"})]}),e.jsx(s,{span:6,style:{textAlign:"right"},children:e.jsxs(d,{children:[e.jsx(o,{icon:e.jsx(c,{}),onClick:()=>fe(!0),children:"å¿«é€Ÿè®°å½•"}),e.jsx(o,{type:"primary",icon:e.jsx(m,{}),onClick:()=>Pe(),children:"æ–°å¢è®°å½•"})]})})]})}),e.jsxs(t,{gutter:16,style:{marginBottom:24},children:[e.jsx(s,{span:6,children:e.jsx(n,{children:e.jsx(x,{title:"æ€»æ ·æœ¬æ•°",value:ee.length,suffix:"ä¸ª",valueStyle:{color:"#1890ff"},prefix:e.jsx(h,{})})})}),e.jsx(s,{span:6,children:e.jsx(n,{children:e.jsx(x,{title:"æ„å»ºæˆåŠŸ",value:ee.filter(e=>"pass"===e.qcStatus).length,suffix:"ä¸ª",valueStyle:{color:"#52c41a"},prefix:e.jsx(j,{})})})}),e.jsx(s,{span:6,children:e.jsx(n,{children:e.jsx(x,{title:"å¹³å‡äº§é‡",value:ee.length>0?(ee.reduce((e,i)=>e+i.libraryYield,0)/ee.length).toFixed(0):0,suffix:"ng",valueStyle:{color:"#722ed1"},prefix:e.jsx(u,{})})})}),e.jsx(s,{span:6,children:e.jsx(n,{children:e.jsx(x,{title:"å¹³å‡æµ“åº¦",value:ee.length>0?(ee.reduce((e,i)=>e+i.libraryConcentration,0)/ee.length).toFixed(1):0,suffix:"ng/Î¼L",valueStyle:{color:"#fa8c16"},prefix:e.jsx(p,{})})})})]}),e.jsx(n,{children:e.jsxs(g,{activeKey:Z,onChange:W,children:[e.jsx(G,{tab:"åŸºæœ¬ä¿¡æ¯",children:e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:16,children:e.jsx(n,{title:"æ–‡åº“æ„å»ºå‚æ•°",size:"small",extra:e.jsx(o,{type:"link",icon:e.jsx(f,{}),onClick:()=>he(!0),children:"è®¾ç½®å‚æ•°"}),children:re&&e.jsxs(t,{gutter:16,children:[e.jsxs(s,{span:12,children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(K,{strong:!0,children:"æ–‡åº“ç±»å‹ï¼š"}),e.jsx(y,{color:"blue",children:(Ye=re.libraryType,{illumina:"Illumina",nanopore:"Oxford Nanopore",pacbio:"PacBio",ion_torrent:"Ion Torrent",custom:"è‡ªå®šä¹‰"}[Ye]||Ye)})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(K,{strong:!0,children:"æ„å»ºæ–¹æ³•ï¼š"}),e.jsx(K,{children:(Le=re.constructionMethod,{tagmentation:"è½¬åº§é…¶ç‰‡æ®µåŒ–",fragmentation:"ç‰©ç†ç‰‡æ®µåŒ–",pcr_free:"PCR-free",amplicon:"æ‰©å¢å­",targeted:"é¶å‘æ•è·"}[Le]||Le)})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(K,{strong:!0,children:"è¯•å‰‚ç›’ï¼š"}),e.jsx(K,{children:re.kitName})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(K,{strong:!0,children:"ç‰ˆæœ¬ï¼š"}),e.jsx(K,{children:re.kitVersion})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(K,{strong:!0,children:"ç›®æ ‡ç‰‡æ®µå¤§å°ï¼š"}),e.jsxs(K,{children:[re.targetFragmentSize," bp"]})]})]}),e.jsxs(s,{span:12,children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(K,{strong:!0,children:"æ¥å¤´ç±»å‹ï¼š"}),e.jsx(K,{children:re.adapterType})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(K,{strong:!0,children:"æ¥å¤´æµ“åº¦ï¼š"}),e.jsx(K,{children:re.adapterConcentration})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(K,{strong:!0,children:"çº¯åŒ–æ–¹æ³•ï¼š"}),e.jsx(K,{children:"beads"===re.purificationMethod?"ç£ç çº¯åŒ–":"column"===re.purificationMethod?"æŸ±çº¯åŒ–":"èƒ¶å›æ”¶"})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(K,{strong:!0,children:"æ´—è„±ä½“ç§¯ï¼š"}),e.jsxs(K,{children:[re.elutionVolume," Î¼L"]})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(K,{strong:!0,children:"æ“ä½œå‘˜ï¼š"}),e.jsx(K,{children:re.operator})]})]})]})})}),e.jsxs(s,{span:8,children:[e.jsx(n,{title:"æ„å»ºæµç¨‹",size:"small",children:e.jsxs(b,{direction:"vertical",size:"small",current:-1,children:[e.jsx(U,{title:"DNAè´¨æ£€",description:"æ£€æµ‹è¾“å…¥DNAè´¨é‡å’Œæµ“åº¦"}),e.jsx(U,{title:"ç‰‡æ®µåŒ–",description:"é…¶åˆ‡æˆ–ç‰©ç†ç‰‡æ®µåŒ–"}),e.jsx(U,{title:"æœ«ç«¯ä¿®å¤",description:"ä¿®å¤DNAæœ«ç«¯"}),e.jsx(U,{title:"æ¥å¤´è¿æ¥",description:"è¿æ¥æµ‹åºæ¥å¤´"}),e.jsx(U,{title:"PCRæ‰©å¢",description:"æ‰©å¢æ–‡åº“ç‰‡æ®µ"}),e.jsx(U,{title:"çº¯åŒ–",description:"å»é™¤å¼•ç‰©å’ŒäºŒèšä½“"}),e.jsx(U,{title:"è´¨é‡æ£€æµ‹",description:"æ£€æµ‹æ–‡åº“è´¨é‡"})]})}),e.jsx(n,{title:"ç¯å¢ƒæ¡ä»¶",size:"small",style:{marginTop:16},children:(null==re?void 0:re.environmentalConditions)&&e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(K,{strong:!0,children:"æ¸©åº¦ï¼š"}),e.jsxs(K,{children:[re.environmentalConditions.temperature,"Â°C"]})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(K,{strong:!0,children:"æ¹¿åº¦ï¼š"}),e.jsxs(K,{children:[re.environmentalConditions.humidity,"%"]})]}),re.environmentalConditions.pressure&&e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(K,{strong:!0,children:"æ°”å‹ï¼š"}),e.jsxs(K,{children:[re.environmentalConditions.pressure,"hPa"]})]})]})})]})]})},"basic"),e.jsx(G,{tab:"è¯•å‰‚è®°å½•",children:e.jsxs(d,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:18,children:e.jsxs(d,{children:[e.jsx(o,{type:"primary",icon:e.jsx(m,{}),onClick:()=>ue(!0),children:"æ·»åŠ è¯•å‰‚"}),e.jsx(o,{icon:e.jsx(v,{}),children:"å¯¼å…¥è¯•å‰‚æ¸…å•"}),e.jsx(o,{icon:e.jsx(I,{}),children:"å¯¼å‡ºè¯•å‰‚æ¸…å•"})]})}),e.jsx(s,{span:6,style:{textAlign:"right"},children:e.jsxs(C,{placeholder:"ç­›é€‰è¯•å‰‚ç±»å‹",style:{width:120},allowClear:!0,children:[e.jsx(X,{value:"enzyme",children:"é…¶"}),e.jsx(X,{value:"buffer",children:"ç¼“å†²æ¶²"}),e.jsx(X,{value:"adapter",children:"æ¥å¤´"}),e.jsx(X,{value:"primer",children:"å¼•ç‰©"}),e.jsx(X,{value:"bead",children:"ç£ç "})]})})]}),e.jsx(D,{size:"small",dataSource:te,columns:Fe,rowKey:"id",pagination:!1}),e.jsx(n,{title:"è¯•å‰‚ä½¿ç”¨ç»Ÿè®¡",size:"small",children:e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:8,children:e.jsx(x,{title:"é…¶ç±»è¯•å‰‚",value:te.filter(e=>"enzyme"===e.type).length,suffix:"ç§",valueStyle:{color:"#52c41a"}})}),e.jsx(s,{span:8,children:e.jsx(x,{title:"ç¼“å†²æ¶²",value:te.filter(e=>"buffer"===e.type).length,suffix:"ç§",valueStyle:{color:"#1890ff"}})}),e.jsx(s,{span:8,children:e.jsx(x,{title:"å³å°†è¿‡æœŸ",value:te.filter(e=>S(e.expiryDate).isBefore(S().add(30,"day"))).length,suffix:"ç§",valueStyle:{color:"#faad14"}})})]})})]})},"reagents"),e.jsx(G,{tab:"æ ·æœ¬è®°å½•",children:e.jsxs(d,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:18,children:e.jsxs(d,{children:[e.jsx(o,{type:"primary",icon:e.jsx(m,{}),onClick:()=>Pe(),children:"æ–°å¢è®°å½•"}),e.jsx(o,{icon:e.jsx(w,{}),onClick:()=>ve(!0),children:"æ‰¹é‡å¤„ç†"}),e.jsx(o,{icon:e.jsx(v,{}),children:"å¯¼å…¥æ•°æ®"}),e.jsx(o,{icon:e.jsx(I,{}),children:"å¯¼å‡ºæ•°æ®"}),e.jsx(o,{icon:e.jsx(N,{}),children:"æ‰“å°æŠ¥å‘Š"})]})}),e.jsx(s,{span:6,style:{textAlign:"right"},children:e.jsxs(C,{placeholder:"ç­›é€‰çŠ¶æ€",style:{width:120},allowClear:!0,children:[e.jsx(X,{value:"pass",children:"é€šè¿‡"}),e.jsx(X,{value:"warning",children:"è­¦å‘Š"}),e.jsx(X,{value:"fail",children:"å¤±è´¥"}),e.jsx(X,{value:"pending",children:"å¾…æ£€"})]})})]}),e.jsx(D,{size:"small",dataSource:ee,columns:Be,rowKey:"id",scroll:{x:1800},pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`å…± ${e} æ¡è®°å½•`},rowSelection:{selectedRowKeys:le,onChange:ae}})]})},"samples"),e.jsxs(G,{tab:"è´¨é‡æ£€æµ‹",children:[e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:12,children:e.jsx(n,{title:"è´¨é‡ç»Ÿè®¡",size:"small",children:e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:6,children:e.jsx(x,{title:"é€šè¿‡ç‡",value:ee.length>0?(ee.filter(e=>"pass"===e.qcStatus).length/ee.length*100).toFixed(1):0,suffix:"%",valueStyle:{color:"#52c41a"}})}),e.jsx(s,{span:6,children:e.jsx(x,{title:"é«˜è´¨é‡",value:ee.filter(e=>e.libraryConcentration>=10&&(e.adapterDimerPercent||0)<=3).length,valueStyle:{color:"#52c41a"}})}),e.jsx(s,{span:6,children:e.jsx(x,{title:"ä¸­ç­‰è´¨é‡",value:ee.filter(e=>e.libraryConcentration>=5&&e.libraryConcentration<10).length,valueStyle:{color:"#faad14"}})}),e.jsx(s,{span:6,children:e.jsx(x,{title:"ä½è´¨é‡",value:ee.filter(e=>e.libraryConcentration<5).length,valueStyle:{color:"#ff7a45"}})})]})})}),e.jsx(s,{span:12,children:e.jsx(n,{title:"è´¨é‡è¶‹åŠ¿",size:"small",children:e.jsx("div",{style:{height:200,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(K,{type:"secondary",children:"æ–‡åº“è´¨é‡è¶‹åŠ¿å›¾è¡¨"})})})})]}),e.jsx(n,{title:"è´¨é‡è¯¦æƒ…",size:"small",style:{marginTop:16},children:e.jsxs(k,{children:[e.jsxs(J,{header:"æµ“åº¦è´¨æ§",children:[e.jsx(z,{message:"æµ“åº¦è´¨æ§æ ‡å‡†",description:"æ–‡åº“æµ“åº¦åº”â‰¥2 ng/Î¼Lï¼Œæ¨èâ‰¥10 ng/Î¼Lä»¥ç¡®ä¿æµ‹åºè´¨é‡",type:"info",showIcon:!0,style:{marginBottom:16}}),e.jsx(A,{size:"small",dataSource:ee.filter(e=>e.libraryConcentration<2),renderItem:i=>e.jsxs(A.Item,{children:[e.jsx(A.Item.Meta,{avatar:e.jsx(T,{style:{backgroundColor:"#ff4d4f"},children:i.sampleCode}),title:`${i.sampleName} - ${i.libraryConcentration.toFixed(1)} ng/Î¼L`,description:"æµ“åº¦è¿‡ä½"}),e.jsx(y,{color:"error",children:"å¼‚å¸¸"})]})})]},"concentration"),e.jsxs(J,{header:"ç‰‡æ®µå¤§å°è´¨æ§",children:[e.jsx(z,{message:"ç‰‡æ®µå¤§å°è´¨æ§æ ‡å‡†",description:"ç‰‡æ®µå¤§å°åº”åœ¨ç›®æ ‡èŒƒå›´å†…(Â±30%)ï¼Œåˆ†å¸ƒåº”ç›¸å¯¹é›†ä¸­",type:"info",showIcon:!0,style:{marginBottom:16}}),e.jsx(A,{size:"small",dataSource:ee.filter(e=>{const i=(null==re?void 0:re.targetFragmentSize)||400;return Math.abs(e.fragmentSizeDistribution.mean-i)>.3*i}),renderItem:i=>e.jsxs(A.Item,{children:[e.jsx(A.Item.Meta,{avatar:e.jsx(T,{style:{backgroundColor:"#faad14"},children:i.sampleCode}),title:`${i.sampleName} - ${i.fragmentSizeDistribution.mean} bp`,description:`åˆ†å¸ƒ: ${i.fragmentSizeDistribution.range}`}),e.jsx(y,{color:"warning",children:"ç‰‡æ®µå¼‚å¸¸"})]})})]},"fragment"),e.jsxs(J,{header:"æ¥å¤´äºŒèšä½“è´¨æ§",children:[e.jsx(z,{message:"æ¥å¤´äºŒèšä½“è´¨æ§æ ‡å‡†",description:"æ¥å¤´äºŒèšä½“å«é‡åº”â‰¤5%ï¼Œè¿‡é«˜ä¼šå½±å“æµ‹åºæ•°æ®è´¨é‡",type:"info",showIcon:!0,style:{marginBottom:16}}),e.jsx(A,{size:"small",dataSource:ee.filter(e=>e.adapterDimerPercent&&e.adapterDimerPercent>5),renderItem:i=>{var r;return e.jsxs(A.Item,{children:[e.jsx(A.Item.Meta,{avatar:e.jsx(T,{style:{backgroundColor:"#ff4d4f"},children:i.sampleCode}),title:`${i.sampleName} - ${null==(r=i.adapterDimerPercent)?void 0:r.toFixed(1)}%`,description:"æ¥å¤´äºŒèšä½“è¿‡é«˜"}),e.jsx(y,{color:"error",children:"å¼‚å¸¸"})]})}})]},"adapter")]})})]},"quality")]})}),e.jsx(q,{title:de?"ç¼–è¾‘æ–‡åº“è®°å½•":"æ–°å¢æ–‡åº“è®°å½•",open:ce,onCancel:()=>{me(!1),oe(null),Ce.resetFields()},onOk:()=>Ce.submit(),confirmLoading:l,width:900,children:e.jsxs(r,{form:Ce,layout:"vertical",onFinish:async e=>{try{E(!0),await new Promise(e=>setTimeout(e,1e3));const i={...e,id:(null==de?void 0:de.id)||`lib_record_${Date.now()}`,recordTime:e.recordTime.format("YYYY-MM-DD HH:mm:ss"),verified:!1,fragmentSizeDistribution:{mean:e.fragmentSizeMean||0,median:e.fragmentSizeMedian||0,mode:e.fragmentSizeMode||0,range:e.fragmentSizeRange||""}};de?(ie(e=>e.map(e=>e.id===de.id?i:e)),R.success("è®°å½•æ›´æ–°æˆåŠŸ")):(ie(e=>[...e,i]),R.success("è®°å½•æ·»åŠ æˆåŠŸ")),me(!1),oe(null),Ce.resetFields()}catch(i){R.error("ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{E(!1)}},children:[e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:12,children:e.jsx(r.Item,{name:"sampleCode",label:"æ ·æœ¬ç¼–å·",rules:[{required:!0,message:"è¯·è¾“å…¥æ ·æœ¬ç¼–å·"}],children:e.jsx(M,{placeholder:"è¯·è¾“å…¥æ ·æœ¬ç¼–å·"})})}),e.jsx(s,{span:12,children:e.jsx(r.Item,{name:"sampleName",label:"æ ·æœ¬åç§°",rules:[{required:!0,message:"è¯·è¾“å…¥æ ·æœ¬åç§°"}],children:e.jsx(M,{placeholder:"è¯·è¾“å…¥æ ·æœ¬åç§°"})})})]}),e.jsx(P,{children:"è¾“å…¥DNAä¿¡æ¯"}),e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:8,children:e.jsx(r.Item,{name:"inputDNAAmount",label:"è¾“å…¥DNAæ€»é‡(ng)",rules:[{required:!0,message:"è¯·è¾“å…¥DNAæ€»é‡"}],children:e.jsx(B,{placeholder:"è¯·è¾“å…¥DNAæ€»é‡",min:0,style:{width:"100%"}})})}),e.jsx(s,{span:8,children:e.jsx(r.Item,{name:"inputDNAConcentration",label:"è¾“å…¥DNAæµ“åº¦(ng/Î¼L)",rules:[{required:!0,message:"è¯·è¾“å…¥DNAæµ“åº¦"}],children:e.jsx(B,{placeholder:"è¯·è¾“å…¥DNAæµ“åº¦",min:0,precision:1,style:{width:"100%"}})})}),e.jsx(s,{span:8,children:e.jsx(r.Item,{name:"inputDNAVolume",label:"è¾“å…¥DNAä½“ç§¯(Î¼L)",rules:[{required:!0,message:"è¯·è¾“å…¥DNAä½“ç§¯"}],children:e.jsx(B,{placeholder:"è¯·è¾“å…¥DNAä½“ç§¯",min:0,precision:1,style:{width:"100%"}})})})]}),e.jsx(P,{children:"æ–‡åº“æ„å»ºç»“æœ"}),e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:8,children:e.jsx(r.Item,{name:"libraryConcentration",label:"æ–‡åº“æµ“åº¦(ng/Î¼L)",rules:[{required:!0,message:"è¯·è¾“å…¥æ–‡åº“æµ“åº¦"}],children:e.jsx(B,{placeholder:"è¯·è¾“å…¥æ–‡åº“æµ“åº¦",min:0,precision:1,style:{width:"100%"}})})}),e.jsx(s,{span:8,children:e.jsx(r.Item,{name:"libraryVolume",label:"æ–‡åº“ä½“ç§¯(Î¼L)",rules:[{required:!0,message:"è¯·è¾“å…¥æ–‡åº“ä½“ç§¯"}],children:e.jsx(B,{placeholder:"è¯·è¾“å…¥æ–‡åº“ä½“ç§¯",min:0,precision:1,style:{width:"100%"}})})}),e.jsx(s,{span:8,children:e.jsx(r.Item,{name:"libraryYield",label:"æ–‡åº“äº§é‡(ng)",rules:[{required:!0,message:"è¯·è¾“å…¥æ–‡åº“äº§é‡"}],children:e.jsx(B,{placeholder:"è¯·è¾“å…¥æ–‡åº“äº§é‡",min:0,style:{width:"100%"}})})})]}),e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:8,children:e.jsx(r.Item,{name:"fragmentSizeMean",label:"å¹³å‡ç‰‡æ®µå¤§å°(bp)",children:e.jsx(B,{placeholder:"è¯·è¾“å…¥å¹³å‡ç‰‡æ®µå¤§å°",min:0,style:{width:"100%"}})})}),e.jsx(s,{span:8,children:e.jsx(r.Item,{name:"qcMolarity",label:"æ‘©å°”æµ“åº¦(nM)",children:e.jsx(B,{placeholder:"è¯·è¾“å…¥æ‘©å°”æµ“åº¦",min:0,precision:1,style:{width:"100%"}})})}),e.jsx(s,{span:8,children:e.jsx(r.Item,{name:"adapterDimerPercent",label:"æ¥å¤´äºŒèšä½“(%)",children:e.jsx(B,{placeholder:"è¯·è¾“å…¥æ¥å¤´äºŒèšä½“ç™¾åˆ†æ¯”",min:0,max:100,precision:1,style:{width:"100%"}})})})]}),e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:12,children:e.jsx(r.Item,{name:"qcStatus",label:"è´¨æ§çŠ¶æ€",rules:[{required:!0,message:"è¯·é€‰æ‹©è´¨æ§çŠ¶æ€"}],children:e.jsxs(C,{placeholder:"è¯·é€‰æ‹©è´¨æ§çŠ¶æ€",children:[e.jsx(X,{value:"pass",children:"é€šè¿‡"}),e.jsx(X,{value:"warning",children:"è­¦å‘Š"}),e.jsx(X,{value:"fail",children:"å¤±è´¥"}),e.jsx(X,{value:"pending",children:"å¾…æ£€"})]})})}),e.jsx(s,{span:12,children:e.jsx(r.Item,{name:"operator",label:"æ“ä½œå‘˜",rules:[{required:!0,message:"è¯·è¾“å…¥æ“ä½œå‘˜"}],children:e.jsx(M,{placeholder:"è¯·è¾“å…¥æ“ä½œå‘˜"})})})]}),e.jsx(r.Item,{name:"notes",label:"å¤‡æ³¨",children:e.jsx(Q,{rows:3,placeholder:"è¯·è¾“å…¥å¤‡æ³¨ä¿¡æ¯"})})]})}),e.jsx(q,{title:"æ–‡åº“æ„å»ºå‚æ•°è®¾ç½®",open:xe,onCancel:()=>he(!1),onOk:()=>De.submit(),confirmLoading:l,width:800,children:e.jsxs(r,{form:De,layout:"vertical",onFinish:async e=>{try{E(!0),await new Promise(e=>setTimeout(e,1e3)),ne({...e,startTime:e.startTime.format("YYYY-MM-DD HH:mm:ss"),estimatedEndTime:e.estimatedEndTime.format("YYYY-MM-DD HH:mm:ss"),environmentalConditions:{temperature:e.temperature||22,humidity:e.humidity||45,pressure:e.pressure}}),R.success("æ„å»ºå‚æ•°è®¾ç½®æˆåŠŸ"),he(!1)}catch(i){R.error("è®¾ç½®å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{E(!1)}},initialValues:re,children:[e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:12,children:e.jsx(r.Item,{name:"libraryType",label:"æ–‡åº“ç±»å‹",rules:[{required:!0,message:"è¯·é€‰æ‹©æ–‡åº“ç±»å‹"}],children:e.jsxs(C,{placeholder:"è¯·é€‰æ‹©æ–‡åº“ç±»å‹",children:[e.jsx(X,{value:"illumina",children:"Illumina"}),e.jsx(X,{value:"nanopore",children:"Oxford Nanopore"}),e.jsx(X,{value:"pacbio",children:"PacBio"}),e.jsx(X,{value:"ion_torrent",children:"Ion Torrent"}),e.jsx(X,{value:"custom",children:"è‡ªå®šä¹‰"})]})})}),e.jsx(s,{span:12,children:e.jsx(r.Item,{name:"constructionMethod",label:"æ„å»ºæ–¹æ³•",rules:[{required:!0,message:"è¯·é€‰æ‹©æ„å»ºæ–¹æ³•"}],children:e.jsxs(C,{placeholder:"è¯·é€‰æ‹©æ„å»ºæ–¹æ³•",children:[e.jsx(X,{value:"tagmentation",children:"è½¬åº§é…¶ç‰‡æ®µåŒ–"}),e.jsx(X,{value:"fragmentation",children:"ç‰©ç†ç‰‡æ®µåŒ–"}),e.jsx(X,{value:"pcr_free",children:"PCR-free"}),e.jsx(X,{value:"amplicon",children:"æ‰©å¢å­"}),e.jsx(X,{value:"targeted",children:"é¶å‘æ•è·"})]})})})]}),e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:12,children:e.jsx(r.Item,{name:"kitName",label:"è¯•å‰‚ç›’åç§°",rules:[{required:!0,message:"è¯·è¾“å…¥è¯•å‰‚ç›’åç§°"}],children:e.jsx(M,{placeholder:"è¯·è¾“å…¥è¯•å‰‚ç›’åç§°"})})}),e.jsx(s,{span:12,children:e.jsx(r.Item,{name:"targetFragmentSize",label:"ç›®æ ‡ç‰‡æ®µå¤§å°(bp)",rules:[{required:!0,message:"è¯·è¾“å…¥ç›®æ ‡ç‰‡æ®µå¤§å°"}],children:e.jsx(B,{placeholder:"è¯·è¾“å…¥ç›®æ ‡ç‰‡æ®µå¤§å°",min:50,max:1e4,style:{width:"100%"}})})})]}),e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:12,children:e.jsx(r.Item,{name:"purificationMethod",label:"çº¯åŒ–æ–¹æ³•",rules:[{required:!0,message:"è¯·é€‰æ‹©çº¯åŒ–æ–¹æ³•"}],children:e.jsxs(C,{placeholder:"è¯·é€‰æ‹©çº¯åŒ–æ–¹æ³•",children:[e.jsx(X,{value:"beads",children:"ç£ç çº¯åŒ–"}),e.jsx(X,{value:"column",children:"æŸ±çº¯åŒ–"}),e.jsx(X,{value:"gel",children:"èƒ¶å›æ”¶"})]})})}),e.jsx(s,{span:12,children:e.jsx(r.Item,{name:"elutionVolume",label:"æ´—è„±ä½“ç§¯(Î¼L)",rules:[{required:!0,message:"è¯·è¾“å…¥æ´—è„±ä½“ç§¯"}],children:e.jsx(B,{placeholder:"è¯·è¾“å…¥æ´—è„±ä½“ç§¯",min:10,max:200,style:{width:"100%"}})})})]}),e.jsxs(t,{gutter:16,children:[e.jsx(s,{span:8,children:e.jsx(r.Item,{name:"temperature",label:"ç¯å¢ƒæ¸©åº¦(Â°C)",children:e.jsx(B,{placeholder:"è¯·è¾“å…¥ç¯å¢ƒæ¸©åº¦",min:15,max:30,style:{width:"100%"}})})}),e.jsx(s,{span:8,children:e.jsx(r.Item,{name:"humidity",label:"ç¯å¢ƒæ¹¿åº¦(%)",children:e.jsx(B,{placeholder:"è¯·è¾“å…¥ç¯å¢ƒæ¹¿åº¦",min:30,max:70,style:{width:"100%"}})})}),e.jsx(s,{span:8,children:e.jsx(r.Item,{name:"operator",label:"æ“ä½œå‘˜",rules:[{required:!0,message:"è¯·è¾“å…¥æ“ä½œå‘˜"}],children:e.jsx(M,{placeholder:"è¯·è¾“å…¥æ“ä½œå‘˜"})})})]}),e.jsx(r.Item,{name:"notes",label:"å¤‡æ³¨",children:e.jsx(Q,{rows:3,placeholder:"è¯·è¾“å…¥å¤‡æ³¨ä¿¡æ¯"})})]})}),e.jsx(F,{title:"å¿«é€Ÿè®°å½•",placement:"right",width:400,open:ye,onClose:()=>fe(!1),children:e.jsxs(r,{form:Ne,layout:"vertical",onFinish:async e=>{try{E(!0),await new Promise(e=>setTimeout(e,500)),R.success("å¿«é€Ÿè®°å½•æˆåŠŸ"),fe(!1),Ne.resetFields()}catch(i){R.error("è®°å½•å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{E(!1)}},children:[e.jsx(r.Item,{name:"sampleCode",label:"æ ·æœ¬ç¼–å·",rules:[{required:!0,message:"è¯·è¾“å…¥æ ·æœ¬ç¼–å·"}],children:e.jsx(M,{placeholder:"æ‰«ææˆ–è¾“å…¥æ ·æœ¬ç¼–å·"})}),e.jsx(r.Item,{name:"libraryConcentration",label:"æ–‡åº“æµ“åº¦(ng/Î¼L)",rules:[{required:!0,message:"è¯·è¾“å…¥æ–‡åº“æµ“åº¦"}],children:e.jsx(B,{placeholder:"è¯·è¾“å…¥æ–‡åº“æµ“åº¦",min:0,precision:1,style:{width:"100%"}})}),e.jsx(r.Item,{name:"qcStatus",label:"è´¨æ§çŠ¶æ€",rules:[{required:!0,message:"è¯·é€‰æ‹©è´¨æ§çŠ¶æ€"}],children:e.jsxs(L.Group,{children:[e.jsx(L.Button,{value:"pass",children:"é€šè¿‡"}),e.jsx(L.Button,{value:"warning",children:"è­¦å‘Š"}),e.jsx(L.Button,{value:"fail",children:"å¤±è´¥"})]})}),e.jsx(r.Item,{name:"notes",label:"å¤‡æ³¨",children:e.jsx(Q,{rows:2,placeholder:"è¯·è¾“å…¥å¤‡æ³¨"})}),e.jsx(r.Item,{children:e.jsx(o,{type:"primary",htmlType:"submit",block:!0,loading:l,children:"ä¿å­˜è®°å½•"})})]})})]});var Le,Ye};export{Z as default};
