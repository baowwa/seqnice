import{j as e}from"./index-DyvGJ5NW.js";import{a as s}from"./react-vendor-DKSb2WWV.js";import{a0 as i,a as n,c as l,e as t,T as r,aB as a,S as d,B as c,aE as o,a5 as m,Q as x,ay as h,_ as j,G as p,aN as u,a1 as y,Y as g,o as f,as as v,A as C,ao as w,aa as I,W as b,aO as T,ap as S,a3 as P,aC as k,ae as R,ag as z,a2 as q,aw as F,m as _,b as M,D as B,aj as V,a6 as A,ah as E,an as L,ai as N,s as G,af as Y,O}from"./antd-vendor-CqkZOb36.js";const{Title:D,Text:H,Paragraph:K}=r,{Option:$}=P,{TextArea:Q}=q,{TabPane:J}=y,{Panel:W}=k,{Step:U}=Y,X=()=>{const[r,Y]=s.useState(!1),[K,U]=s.useState("basic"),[X,Z]=s.useState([]),[ee,se]=s.useState(null),[ie,ne]=s.useState([]),[le,te]=s.useState([]),[re,ae]=s.useState(null),[de,ce]=s.useState(!1),[oe,me]=s.useState(!1),[xe,he]=s.useState(!1),[je,pe]=s.useState(!1),[ue,ye]=s.useState(!1),[ge,fe]=s.useState(!1),[ve]=i.useForm(),[Ce]=i.useForm(),[we]=i.useForm(),[Ie]=i.useForm(),[be]=i.useForm(),[Te]=i.useForm(),Se=[{id:"pcr_record_001",sampleId:"sample_001",sampleCode:"S001",sampleName:"åœŸå£¤æ ·æœ¬-1",wellPosition:"A1",templateVolume:2,templateConcentration:125.6,dilutionFactor:10,amplificationSuccess:!0,ctValue:28.5,amplificationEfficiency:95.2,meltingTemperature:82.3,productSize:450,gelLane:1,bandIntensity:"strong",qcStatus:"pass",operator:"å¼ å®éªŒå‘˜",recordTime:"2024-01-16 14:30:00",verified:!0,notes:"PCRæ‰©å¢æˆåŠŸï¼Œäº§ç‰©å¤§å°æ­£ç¡®"},{id:"pcr_record_002",sampleId:"sample_002",sampleCode:"S002",sampleName:"æ°´æ ·-1",wellPosition:"A2",templateVolume:2,templateConcentration:98.3,dilutionFactor:5,amplificationSuccess:!0,ctValue:31.2,amplificationEfficiency:88.7,meltingTemperature:82.1,productSize:450,gelLane:2,bandIntensity:"medium",qcStatus:"pass",operator:"å¼ å®éªŒå‘˜",recordTime:"2024-01-16 14:30:00",verified:!0,notes:"PCRæ‰©å¢æˆåŠŸï¼Œä¿¡å·ä¸­ç­‰"}],Pe={batchId:"pcr_batch_001",pcrType:"standard",targetGene:"16S rRNA",primerPair:"27F/1492R",forwardPrimer:"27F",reversePrimer:"1492R",expectedProductSize:1465,reactionVolume:25,components:[{id:"comp_001",name:"2Ã—Taq Master Mix",concentration:"2Ã—",volume:12.5,finalConcentration:"1Ã—",lot:"LOT20240115"},{id:"comp_002",name:"Forward Primer",concentration:"10 Î¼M",volume:1,finalConcentration:"0.4 Î¼M",lot:"LOT20240112"},{id:"comp_003",name:"Reverse Primer",concentration:"10 Î¼M",volume:1,finalConcentration:"0.4 Î¼M",lot:"LOT20240112"},{id:"comp_004",name:"ddH2O",concentration:"-",volume:8.5,finalConcentration:"-"},{id:"comp_005",name:"Template DNA",concentration:"Variable",volume:2,finalConcentration:"10-100 ng"}],program:[{id:"step_001",stepName:"åˆå§‹å˜æ€§",temperature:95,duration:"5 min",cycles:1},{id:"step_002",stepName:"å˜æ€§",temperature:95,duration:"30 s",cycles:35},{id:"step_003",stepName:"é€€ç«",temperature:55,duration:"30 s",cycles:35},{id:"step_004",stepName:"å»¶ä¼¸",temperature:72,duration:"90 s",cycles:35},{id:"step_005",stepName:"æœ€ç»ˆå»¶ä¼¸",temperature:72,duration:"10 min",cycles:1}],equipment:"Bio-Rad T100",equipmentModel:"T100 Thermal Cycler",plateType:"96-well",environmentalConditions:{temperature:22,humidity:45,pressure:1013},operator:"å¼ å®éªŒå‘˜",startTime:"2024-01-16 13:00:00",estimatedEndTime:"2024-01-16 16:30:00",notes:"æ ‡å‡†PCRæ‰©å¢æµç¨‹ï¼Œæ³¨æ„é¿å…æ±¡æŸ“"},ke=[{id:"primer_001",name:"27F",type:"forward",sequence:"AGAGTTTGATCMTGGCTCAG",length:20,tm:52.1,gc:50,concentration:"10 Î¼M",lot:"LOT20240112",supplier:"Sangon Biotech"},{id:"primer_002",name:"1492R",type:"reverse",sequence:"TACGGYTACCTTGTTACGACTT",length:22,tm:54.3,gc:45.5,concentration:"10 Î¼M",lot:"LOT20240112",supplier:"Sangon Biotech"}];s.useEffect(()=>{Y(!0),setTimeout(()=>{Z(Se),se(Pe),ne(ke),Y(!1)},1e3)},[]);const Re=e=>({pass:"success",warning:"warning",fail:"error",pending:"default"}[e]||"default"),ze=e=>({pass:"é€šè¿‡",warning:"è­¦å‘Š",fail:"å¤±è´¥",pending:"å¾…æ£€"}[e]||e),qe=e=>({strong:"#52c41a",medium:"#faad14",weak:"#ff7a45",none:"#ff4d4f"}[e||"none"]||"#d9d9d9"),Fe=e=>{ae(e||null),e?Ce.setFieldsValue({...e,recordTime:O(e.recordTime)}):Ce.resetFields(),ce(!0)},_e=[{title:"æ ·æœ¬ç¼–å·",dataIndex:"sampleCode",key:"sampleCode",width:100,fixed:"left"},{title:"æ ·æœ¬åç§°",dataIndex:"sampleName",key:"sampleName",width:150},{title:"å­”ä½",dataIndex:"wellPosition",key:"wellPosition",width:80},{title:"æ¨¡æ¿ä½“ç§¯(Î¼L)",dataIndex:"templateVolume",key:"templateVolume",width:100},{title:"æ¨¡æ¿æµ“åº¦(ng/Î¼L)",dataIndex:"templateConcentration",key:"templateConcentration",width:120,render:e=>e.toFixed(1)},{title:"æ‰©å¢æˆåŠŸ",dataIndex:"amplificationSuccess",key:"amplificationSuccess",width:100,render:s=>e.jsx(g,{color:s?"success":"error",children:s?"æˆåŠŸ":"å¤±è´¥"})},{title:"Ctå€¼",dataIndex:"ctValue",key:"ctValue",width:80,render:s=>s?e.jsx("span",{style:{color:s>35?"#ff4d4f":"#52c41a"},children:s.toFixed(1)}):"-"},{title:"æ‰©å¢æ•ˆç‡(%)",dataIndex:"amplificationEfficiency",key:"amplificationEfficiency",width:100,render:s=>s?e.jsxs("span",{style:{color:s<80?"#ff4d4f":"#52c41a"},children:[s.toFixed(1),"%"]}):"-"},{title:"ç†”è§£æ¸©åº¦(Â°C)",dataIndex:"meltingTemperature",key:"meltingTemperature",width:100,render:e=>e?e.toFixed(1):"-"},{title:"äº§ç‰©å¤§å°(bp)",dataIndex:"productSize",key:"productSize",width:100},{title:"æ¡å¸¦å¼ºåº¦",dataIndex:"bandIntensity",key:"bandIntensity",width:100,render:s=>e.jsx(g,{color:qe(s),children:"strong"===s?"å¼º":"medium"===s?"ä¸­":"weak"===s?"å¼±":"æ— "})},{title:"è´¨æ§çŠ¶æ€",dataIndex:"qcStatus",key:"qcStatus",width:100,render:s=>e.jsx(g,{color:Re(s),children:ze(s)})},{title:"éªŒè¯çŠ¶æ€",dataIndex:"verified",key:"verified",width:100,render:s=>e.jsx(g,{color:s?"success":"warning",children:s?"å·²éªŒè¯":"å¾…éªŒè¯"})},{title:"æ“ä½œ",key:"action",width:150,fixed:"right",render:(s,i)=>{const n=(e=>{const s=[];if(e.ctValue&&e.ctValue>35&&s.push("Ctå€¼è¿‡é«˜ï¼Œå¯èƒ½å­˜åœ¨æ‰©å¢æ•ˆç‡é—®é¢˜"),e.amplificationEfficiency&&e.amplificationEfficiency<80&&s.push("æ‰©å¢æ•ˆç‡è¿‡ä½ï¼Œå»ºè®®æ£€æŸ¥å¼•ç‰©å’Œååº”æ¡ä»¶"),e.meltingTemperature&&ee){const i=82;Math.abs(e.meltingTemperature-i)>2&&s.push("ç†”è§£æ¸©åº¦å¼‚å¸¸ï¼Œå¯èƒ½å­˜åœ¨éç‰¹å¼‚æ€§æ‰©å¢")}if(e.productSize&&ee){const i=ee.expectedProductSize;Math.abs(e.productSize-i)>50&&s.push("äº§ç‰©å¤§å°å¼‚å¸¸ï¼Œå¯èƒ½å­˜åœ¨éç‰¹å¼‚æ€§æ‰©å¢")}return{valid:0===s.length,errors:s}})(i);return e.jsxs(d,{children:[e.jsx(E,{title:n.valid?"æ•°æ®æ­£å¸¸":n.errors.join("; "),children:e.jsx(c,{type:"link",size:"small",icon:n.valid?e.jsx(j,{}):e.jsx(L,{}),style:{color:n.valid?"#52c41a":"#ff4d4f"}})}),e.jsx(c,{type:"link",size:"small",icon:e.jsx(N,{}),onClick:()=>Fe(i),children:"æŸ¥çœ‹"}),e.jsx(c,{type:"link",size:"small",icon:e.jsx(V,{}),onClick:()=>Fe(i),children:"ç¼–è¾‘"})]})}}],Me=[{title:"ç»„åˆ†åç§°",dataIndex:"name",key:"name"},{title:"æµ“åº¦",dataIndex:"concentration",key:"concentration"},{title:"ä½“ç§¯(Î¼L)",dataIndex:"volume",key:"volume"},{title:"ç»ˆæµ“åº¦",dataIndex:"finalConcentration",key:"finalConcentration"},{title:"æ‰¹å·",dataIndex:"lot",key:"lot"},{title:"æ“ä½œ",key:"action",render:(s,i)=>e.jsxs(d,{children:[e.jsx(c,{type:"link",size:"small",icon:e.jsx(V,{}),children:"ç¼–è¾‘"}),e.jsx(c,{type:"link",size:"small",icon:e.jsx(A,{}),danger:!0,children:"åˆ é™¤"})]})}],Be=[{title:"æ­¥éª¤",dataIndex:"stepName",key:"stepName"},{title:"æ¸©åº¦(Â°C)",dataIndex:"temperature",key:"temperature"},{title:"æ—¶é—´",dataIndex:"duration",key:"duration"},{title:"å¾ªç¯æ•°",dataIndex:"cycles",key:"cycles"},{title:"å‡æ¸©é€Ÿç‡(Â°C/s)",dataIndex:"rampRate",key:"rampRate"},{title:"æ“ä½œ",key:"action",render:(s,i)=>e.jsxs(d,{children:[e.jsx(c,{type:"link",size:"small",icon:e.jsx(V,{}),children:"ç¼–è¾‘"}),e.jsx(c,{type:"link",size:"small",icon:e.jsx(A,{}),danger:!0,children:"åˆ é™¤"})]})}];return e.jsxs("div",{style:{padding:"24px"},children:[e.jsx(n,{style:{marginBottom:24},children:e.jsxs(l,{gutter:16,align:"middle",children:[e.jsxs(t,{span:18,children:[e.jsxs(D,{level:3,style:{margin:0},children:[e.jsx(a,{style:{marginRight:8}}),"PCRæ‰©å¢æ­¥éª¤è®°å½•"]}),e.jsx(H,{type:"secondary",children:"ğŸ§¬ è¯¦ç»†è®°å½•PCRæ‰©å¢è¿‡ç¨‹ä¸­çš„ååº”ä½“ç³»ã€ç¨‹åºå‚æ•°å’Œç»“æœæ•°æ®"})]}),e.jsx(t,{span:6,style:{textAlign:"right"},children:e.jsxs(d,{children:[e.jsx(c,{icon:e.jsx(o,{}),onClick:()=>ye(!0),children:"å¿«é€Ÿè®°å½•"}),e.jsx(c,{type:"primary",icon:e.jsx(m,{}),onClick:()=>Fe(),children:"æ–°å¢è®°å½•"})]})})]})}),e.jsxs(l,{gutter:16,style:{marginBottom:24},children:[e.jsx(t,{span:6,children:e.jsx(n,{children:e.jsx(x,{title:"æ€»æ ·æœ¬æ•°",value:X.length,suffix:"ä¸ª",valueStyle:{color:"#1890ff"},prefix:e.jsx(h,{})})})}),e.jsx(t,{span:6,children:e.jsx(n,{children:e.jsx(x,{title:"æ‰©å¢æˆåŠŸ",value:X.filter(e=>e.amplificationSuccess).length,suffix:"ä¸ª",valueStyle:{color:"#52c41a"},prefix:e.jsx(j,{})})})}),e.jsx(t,{span:6,children:e.jsx(n,{children:e.jsx(x,{title:"å¹³å‡Ctå€¼",value:X.length>0?(X.filter(e=>e.ctValue).reduce((e,s)=>e+(s.ctValue||0),0)/X.filter(e=>e.ctValue).length).toFixed(1):0,valueStyle:{color:"#722ed1"},prefix:e.jsx(p,{})})})}),e.jsx(t,{span:6,children:e.jsx(n,{children:e.jsx(x,{title:"å¹³å‡æ‰©å¢æ•ˆç‡",value:X.length>0?(X.filter(e=>e.amplificationEfficiency).reduce((e,s)=>e+(s.amplificationEfficiency||0),0)/X.filter(e=>e.amplificationEfficiency).length).toFixed(1):0,suffix:"%",valueStyle:{color:"#fa8c16"},prefix:e.jsx(u,{})})})})]}),e.jsx(n,{children:e.jsxs(y,{activeKey:K,onChange:U,children:[e.jsx(J,{tab:"åŸºæœ¬ä¿¡æ¯",children:e.jsxs(l,{gutter:16,children:[e.jsx(t,{span:16,children:e.jsx(n,{title:"æ‰¹æ¬¡PCRå‚æ•°",size:"small",extra:e.jsx(c,{type:"link",icon:e.jsx(f,{}),onClick:()=>me(!0),children:"è®¾ç½®å‚æ•°"}),children:ee&&e.jsxs(l,{gutter:16,children:[e.jsxs(t,{span:12,children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(H,{strong:!0,children:"PCRç±»å‹ï¼š"}),e.jsx(g,{color:"blue",children:(Ve=ee.pcrType,{standard:"æ ‡å‡†PCR",nested:"å·¢å¼PCR",multiplex:"å¤šé‡PCR",qpcr:"å®æ—¶å®šé‡PCR",rt_pcr:"é€†è½¬å½•PCR"}[Ve]||Ve)})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(H,{strong:!0,children:"ç›®æ ‡åŸºå› ï¼š"}),e.jsx(H,{children:ee.targetGene})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(H,{strong:!0,children:"å¼•ç‰©å¯¹ï¼š"}),e.jsx(H,{children:ee.primerPair})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(H,{strong:!0,children:"æ­£å‘å¼•ç‰©ï¼š"}),e.jsx(H,{children:ee.forwardPrimer})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(H,{strong:!0,children:"åå‘å¼•ç‰©ï¼š"}),e.jsx(H,{children:ee.reversePrimer})]})]}),e.jsxs(t,{span:12,children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(H,{strong:!0,children:"é¢„æœŸäº§ç‰©å¤§å°ï¼š"}),e.jsxs(H,{children:[ee.expectedProductSize," bp"]})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(H,{strong:!0,children:"ååº”ä½“ç§¯ï¼š"}),e.jsxs(H,{children:[ee.reactionVolume," Î¼L"]})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(H,{strong:!0,children:"PCRä»ªï¼š"}),e.jsx(H,{children:ee.equipment})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(H,{strong:!0,children:"æ¿å‹ï¼š"}),e.jsx(H,{children:ee.plateType})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(H,{strong:!0,children:"æ“ä½œå‘˜ï¼š"}),e.jsx(H,{children:ee.operator})]})]})]})})}),e.jsxs(t,{span:8,children:[e.jsx(n,{title:"å¼•ç‰©ä¿¡æ¯",size:"small",children:e.jsx(v,{size:"small",dataSource:ie,renderItem:s=>e.jsx(v.Item,{children:e.jsx(v.Item.Meta,{avatar:e.jsx(C,{style:{backgroundColor:"forward"===s.type?"#52c41a":"#1890ff"},children:"forward"===s.type?"F":"R"}),title:s.name,description:e.jsxs("div",{children:[e.jsxs("div",{children:["é•¿åº¦: ",s.length," bp"]}),e.jsxs("div",{children:["Tm: ",s.tm,"Â°C"]}),e.jsxs("div",{children:["GC: ",s.gc,"%"]})]})})})})}),e.jsx(n,{title:"ç¯å¢ƒæ¡ä»¶",size:"small",style:{marginTop:16},children:(null==ee?void 0:ee.environmentalConditions)&&e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(H,{strong:!0,children:"æ¸©åº¦ï¼š"}),e.jsxs(H,{children:[ee.environmentalConditions.temperature,"Â°C"]})]}),e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(H,{strong:!0,children:"æ¹¿åº¦ï¼š"}),e.jsxs(H,{children:[ee.environmentalConditions.humidity,"%"]})]}),ee.environmentalConditions.pressure&&e.jsxs("div",{style:{marginBottom:8},children:[e.jsx(H,{strong:!0,children:"æ°”å‹ï¼š"}),e.jsxs(H,{children:[ee.environmentalConditions.pressure,"hPa"]})]})]})})]})]})},"basic"),e.jsx(J,{tab:"ååº”ä½“ç³»",children:e.jsxs(d,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(l,{gutter:16,children:[e.jsx(t,{span:18,children:e.jsxs(d,{children:[e.jsx(c,{type:"primary",icon:e.jsx(m,{}),onClick:()=>pe(!0),children:"æ·»åŠ ç»„åˆ†"}),e.jsx(c,{icon:e.jsx(w,{}),children:"å¯¼å…¥é…æ–¹"}),e.jsx(c,{icon:e.jsx(I,{}),children:"å¯¼å‡ºé…æ–¹"})]})}),e.jsx(t,{span:6,style:{textAlign:"right"},children:e.jsxs(H,{strong:!0,children:["æ€»ä½“ç§¯: ",(null==ee?void 0:ee.reactionVolume)||0," Î¼L"]})})]}),e.jsx(b,{size:"small",dataSource:(null==ee?void 0:ee.components)||[],columns:Me,rowKey:"id",pagination:!1}),e.jsx(n,{title:"ååº”ä½“ç³»æ€»ç»“",size:"small",children:e.jsxs(l,{gutter:16,children:[e.jsxs(t,{span:12,children:[e.jsx(H,{strong:!0,children:"ä¸»è¦ç»„åˆ†ï¼š"}),e.jsx("ul",{children:null==ee?void 0:ee.components.map(s=>e.jsxs("li",{children:[s.name,": ",s.volume," Î¼L (",s.finalConcentration||s.concentration,")"]},s.id))})]}),e.jsxs(t,{span:12,children:[e.jsx(H,{strong:!0,children:"è´¨é‡æ§åˆ¶ï¼š"}),e.jsxs("ul",{children:[e.jsx("li",{children:"é˜³æ€§å¯¹ç…§: å·²çŸ¥é˜³æ€§æ ·æœ¬"}),e.jsx("li",{children:"é˜´æ€§å¯¹ç…§: ddH2O"}),e.jsx("li",{children:"ç©ºç™½å¯¹ç…§: æ— æ¨¡æ¿å¯¹ç…§"})]})]})]})})]})},"reaction"),e.jsx(J,{tab:"PCRç¨‹åº",children:e.jsxs(d,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(l,{gutter:16,children:[e.jsx(t,{span:18,children:e.jsxs(d,{children:[e.jsx(c,{type:"primary",icon:e.jsx(m,{}),onClick:()=>he(!0),children:"æ·»åŠ æ­¥éª¤"}),e.jsx(c,{icon:e.jsx(w,{}),children:"å¯¼å…¥ç¨‹åº"}),e.jsx(c,{icon:e.jsx(I,{}),children:"å¯¼å‡ºç¨‹åº"})]})}),e.jsx(t,{span:6,style:{textAlign:"right"},children:e.jsxs(H,{strong:!0,children:["é¢„è®¡æ—¶é—´: ",ee?"3å°æ—¶30åˆ†é’Ÿ":"-"]})})]}),e.jsx(b,{size:"small",dataSource:(null==ee?void 0:ee.program)||[],columns:Be,rowKey:"id",pagination:!1}),e.jsx(n,{title:"ç¨‹åºå¯è§†åŒ–",size:"small",children:e.jsx("div",{style:{height:200,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(H,{type:"secondary",children:"PCRç¨‹åºæ¸©åº¦æ›²çº¿å›¾"})})})]})},"program"),e.jsx(J,{tab:"æ ·æœ¬è®°å½•",children:e.jsxs(d,{direction:"vertical",style:{width:"100%"},children:[e.jsxs(l,{gutter:16,children:[e.jsx(t,{span:18,children:e.jsxs(d,{children:[e.jsx(c,{type:"primary",icon:e.jsx(m,{}),onClick:()=>Fe(),children:"æ–°å¢è®°å½•"}),e.jsx(c,{icon:e.jsx(T,{}),onClick:()=>fe(!0),children:"æ ·æœ¬åˆ†é…"}),e.jsx(c,{icon:e.jsx(w,{}),children:"å¯¼å…¥æ•°æ®"}),e.jsx(c,{icon:e.jsx(I,{}),children:"å¯¼å‡ºæ•°æ®"}),e.jsx(c,{icon:e.jsx(S,{}),children:"æ‰“å°æŠ¥å‘Š"})]})}),e.jsx(t,{span:6,style:{textAlign:"right"},children:e.jsxs(P,{placeholder:"ç­›é€‰çŠ¶æ€",style:{width:120},allowClear:!0,children:[e.jsx($,{value:"pass",children:"é€šè¿‡"}),e.jsx($,{value:"warning",children:"è­¦å‘Š"}),e.jsx($,{value:"fail",children:"å¤±è´¥"}),e.jsx($,{value:"pending",children:"å¾…æ£€"})]})})]}),e.jsx(b,{size:"small",dataSource:X,columns:_e,rowKey:"id",scroll:{x:1600},pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`å…± ${e} æ¡è®°å½•`},rowSelection:{selectedRowKeys:le,onChange:te}})]})},"samples"),e.jsxs(J,{tab:"è´¨é‡æ§åˆ¶",children:[e.jsxs(l,{gutter:16,children:[e.jsx(t,{span:12,children:e.jsx(n,{title:"æ‰©å¢ç»Ÿè®¡",size:"small",children:e.jsxs(l,{gutter:16,children:[e.jsx(t,{span:6,children:e.jsx(x,{title:"æˆåŠŸç‡",value:X.length>0?(X.filter(e=>e.amplificationSuccess).length/X.length*100).toFixed(1):0,suffix:"%",valueStyle:{color:"#52c41a"}})}),e.jsx(t,{span:6,children:e.jsx(x,{title:"å¼ºæ¡å¸¦",value:X.filter(e=>"strong"===e.bandIntensity).length,valueStyle:{color:"#52c41a"}})}),e.jsx(t,{span:6,children:e.jsx(x,{title:"ä¸­ç­‰æ¡å¸¦",value:X.filter(e=>"medium"===e.bandIntensity).length,valueStyle:{color:"#faad14"}})}),e.jsx(t,{span:6,children:e.jsx(x,{title:"å¼±æ¡å¸¦",value:X.filter(e=>"weak"===e.bandIntensity).length,valueStyle:{color:"#ff7a45"}})})]})})}),e.jsx(t,{span:12,children:e.jsx(n,{title:"è´¨æ§è¶‹åŠ¿",size:"small",children:e.jsx("div",{style:{height:200,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(H,{type:"secondary",children:"æ‰©å¢æ•ˆç‡è¶‹åŠ¿å›¾è¡¨"})})})})]}),e.jsx(n,{title:"è´¨æ§è¯¦æƒ…",size:"small",style:{marginTop:16},children:e.jsxs(k,{children:[e.jsxs(W,{header:"æ‰©å¢æ•ˆç‡è´¨æ§",children:[e.jsx(R,{message:"æ‰©å¢æ•ˆç‡è´¨æ§æ ‡å‡†",description:"PCRæ‰©å¢æ•ˆç‡åº”åœ¨80-110%èŒƒå›´å†…ï¼Œä½äº80%éœ€è¦æ£€æŸ¥å¼•ç‰©è®¾è®¡å’Œååº”æ¡ä»¶",type:"info",showIcon:!0,style:{marginBottom:16}}),e.jsx(v,{size:"small",dataSource:X.filter(e=>e.amplificationEfficiency&&e.amplificationEfficiency<80),renderItem:s=>{var i;return e.jsxs(v.Item,{children:[e.jsx(v.Item.Meta,{avatar:e.jsx(C,{style:{backgroundColor:"#ff4d4f"},children:s.sampleCode}),title:`${s.sampleName} - ${null==(i=s.amplificationEfficiency)?void 0:i.toFixed(1)}%`,description:"æ‰©å¢æ•ˆç‡è¿‡ä½"}),e.jsx(g,{color:"error",children:"å¼‚å¸¸"})]})}})]},"efficiency"),e.jsxs(W,{header:"ç‰¹å¼‚æ€§è´¨æ§",children:[e.jsx(R,{message:"ç‰¹å¼‚æ€§è´¨æ§æ ‡å‡†",description:"ç†”è§£æ¸©åº¦åº”åœ¨é¢„æœŸèŒƒå›´å†…(Â±2Â°C)ï¼Œäº§ç‰©å¤§å°åº”ä¸é¢„æœŸä¸€è‡´(Â±50bp)",type:"info",showIcon:!0,style:{marginBottom:16}}),e.jsx(v,{size:"small",dataSource:X.filter(e=>{const s=(null==ee?void 0:ee.expectedProductSize)||0;return e.meltingTemperature&&Math.abs(e.meltingTemperature-82)>2||e.productSize&&Math.abs(e.productSize-s)>50}),renderItem:s=>{var i;return e.jsxs(v.Item,{children:[e.jsx(v.Item.Meta,{avatar:e.jsx(C,{style:{backgroundColor:"#faad14"},children:s.sampleCode}),title:`${s.sampleName}`,description:e.jsxs("div",{children:[e.jsxs("div",{children:["ç†”è§£æ¸©åº¦: ",null==(i=s.meltingTemperature)?void 0:i.toFixed(1),"Â°C"]}),e.jsxs("div",{children:["äº§ç‰©å¤§å°: ",s.productSize," bp"]})]})}),e.jsx(g,{color:"warning",children:"ç‰¹å¼‚æ€§å¼‚å¸¸"})]})}})]},"specificity")]})})]},"qc")]})}),e.jsx(z,{title:re?"ç¼–è¾‘PCRè®°å½•":"æ–°å¢PCRè®°å½•",open:de,onCancel:()=>{ce(!1),ae(null),Ce.resetFields()},onOk:()=>Ce.submit(),confirmLoading:r,width:800,children:e.jsxs(i,{form:Ce,layout:"vertical",onFinish:async e=>{try{Y(!0),await new Promise(e=>setTimeout(e,1e3));const s={...e,id:(null==re?void 0:re.id)||`pcr_record_${Date.now()}`,recordTime:e.recordTime.format("YYYY-MM-DD HH:mm:ss"),verified:!1};re?(Z(e=>e.map(e=>e.id===re.id?s:e)),G.success("è®°å½•æ›´æ–°æˆåŠŸ")):(Z(e=>[...e,s]),G.success("è®°å½•æ·»åŠ æˆåŠŸ")),ce(!1),ae(null),Ce.resetFields()}catch(s){G.error("ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{Y(!1)}},children:[e.jsxs(l,{gutter:16,children:[e.jsx(t,{span:12,children:e.jsx(i.Item,{name:"sampleCode",label:"æ ·æœ¬ç¼–å·",rules:[{required:!0,message:"è¯·è¾“å…¥æ ·æœ¬ç¼–å·"}],children:e.jsx(q,{placeholder:"è¯·è¾“å…¥æ ·æœ¬ç¼–å·"})})}),e.jsx(t,{span:12,children:e.jsx(i.Item,{name:"sampleName",label:"æ ·æœ¬åç§°",rules:[{required:!0,message:"è¯·è¾“å…¥æ ·æœ¬åç§°"}],children:e.jsx(q,{placeholder:"è¯·è¾“å…¥æ ·æœ¬åç§°"})})})]}),e.jsxs(l,{gutter:16,children:[e.jsx(t,{span:8,children:e.jsx(i.Item,{name:"wellPosition",label:"å­”ä½",rules:[{required:!0,message:"è¯·è¾“å…¥å­”ä½"}],children:e.jsx(q,{placeholder:"å¦‚ï¼šA1"})})}),e.jsx(t,{span:8,children:e.jsx(i.Item,{name:"templateVolume",label:"æ¨¡æ¿ä½“ç§¯(Î¼L)",rules:[{required:!0,message:"è¯·è¾“å…¥æ¨¡æ¿ä½“ç§¯"}],children:e.jsx(F,{placeholder:"è¯·è¾“å…¥æ¨¡æ¿ä½“ç§¯",min:0,precision:1,style:{width:"100%"}})})}),e.jsx(t,{span:8,children:e.jsx(i.Item,{name:"templateConcentration",label:"æ¨¡æ¿æµ“åº¦(ng/Î¼L)",rules:[{required:!0,message:"è¯·è¾“å…¥æ¨¡æ¿æµ“åº¦"}],children:e.jsx(F,{placeholder:"è¯·è¾“å…¥æ¨¡æ¿æµ“åº¦",min:0,precision:1,style:{width:"100%"}})})})]}),e.jsx(_,{children:"PCRç»“æœ"}),e.jsxs(l,{gutter:16,children:[e.jsx(t,{span:8,children:e.jsx(i.Item,{name:"amplificationSuccess",label:"æ‰©å¢æˆåŠŸ",rules:[{required:!0,message:"è¯·é€‰æ‹©æ‰©å¢ç»“æœ"}],children:e.jsxs(M.Group,{children:[e.jsx(M,{value:!0,children:"æˆåŠŸ"}),e.jsx(M,{value:!1,children:"å¤±è´¥"})]})})}),e.jsx(t,{span:8,children:e.jsx(i.Item,{name:"ctValue",label:"Ctå€¼",children:e.jsx(F,{placeholder:"è¯·è¾“å…¥Ctå€¼",min:0,max:50,precision:1,style:{width:"100%"}})})}),e.jsx(t,{span:8,children:e.jsx(i.Item,{name:"amplificationEfficiency",label:"æ‰©å¢æ•ˆç‡(%)",children:e.jsx(F,{placeholder:"è¯·è¾“å…¥æ‰©å¢æ•ˆç‡",min:0,max:200,precision:1,style:{width:"100%"}})})})]}),e.jsxs(l,{gutter:16,children:[e.jsx(t,{span:8,children:e.jsx(i.Item,{name:"meltingTemperature",label:"ç†”è§£æ¸©åº¦(Â°C)",children:e.jsx(F,{placeholder:"è¯·è¾“å…¥ç†”è§£æ¸©åº¦",min:0,max:100,precision:1,style:{width:"100%"}})})}),e.jsx(t,{span:8,children:e.jsx(i.Item,{name:"productSize",label:"äº§ç‰©å¤§å°(bp)",children:e.jsx(F,{placeholder:"è¯·è¾“å…¥äº§ç‰©å¤§å°",min:0,style:{width:"100%"}})})}),e.jsx(t,{span:8,children:e.jsx(i.Item,{name:"bandIntensity",label:"æ¡å¸¦å¼ºåº¦",children:e.jsxs(P,{placeholder:"è¯·é€‰æ‹©æ¡å¸¦å¼ºåº¦",children:[e.jsx($,{value:"strong",children:"å¼º"}),e.jsx($,{value:"medium",children:"ä¸­"}),e.jsx($,{value:"weak",children:"å¼±"}),e.jsx($,{value:"none",children:"æ— "})]})})})]}),e.jsxs(l,{gutter:16,children:[e.jsx(t,{span:12,children:e.jsx(i.Item,{name:"qcStatus",label:"è´¨æ§çŠ¶æ€",rules:[{required:!0,message:"è¯·é€‰æ‹©è´¨æ§çŠ¶æ€"}],children:e.jsxs(P,{placeholder:"è¯·é€‰æ‹©è´¨æ§çŠ¶æ€",children:[e.jsx($,{value:"pass",children:"é€šè¿‡"}),e.jsx($,{value:"warning",children:"è­¦å‘Š"}),e.jsx($,{value:"fail",children:"å¤±è´¥"}),e.jsx($,{value:"pending",children:"å¾…æ£€"})]})})}),e.jsx(t,{span:12,children:e.jsx(i.Item,{name:"operator",label:"æ“ä½œå‘˜",rules:[{required:!0,message:"è¯·è¾“å…¥æ“ä½œå‘˜"}],children:e.jsx(q,{placeholder:"è¯·è¾“å…¥æ“ä½œå‘˜"})})})]}),e.jsx(i.Item,{name:"notes",label:"å¤‡æ³¨",children:e.jsx(Q,{rows:3,placeholder:"è¯·è¾“å…¥å¤‡æ³¨ä¿¡æ¯"})})]})}),e.jsx(z,{title:"æ‰¹æ¬¡PCRå‚æ•°è®¾ç½®",open:oe,onCancel:()=>me(!1),onOk:()=>we.submit(),confirmLoading:r,width:800,children:e.jsxs(i,{form:we,layout:"vertical",onFinish:async e=>{try{Y(!0),await new Promise(e=>setTimeout(e,1e3)),se({...e,startTime:e.startTime.format("YYYY-MM-DD HH:mm:ss"),estimatedEndTime:e.estimatedEndTime.format("YYYY-MM-DD HH:mm:ss"),components:(null==ee?void 0:ee.components)||[],program:(null==ee?void 0:ee.program)||[]}),G.success("æ‰¹æ¬¡å‚æ•°è®¾ç½®æˆåŠŸ"),me(!1)}catch(s){G.error("è®¾ç½®å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{Y(!1)}},initialValues:ee,children:[e.jsxs(l,{gutter:16,children:[e.jsx(t,{span:12,children:e.jsx(i.Item,{name:"pcrType",label:"PCRç±»å‹",rules:[{required:!0,message:"è¯·é€‰æ‹©PCRç±»å‹"}],children:e.jsxs(P,{placeholder:"è¯·é€‰æ‹©PCRç±»å‹",children:[e.jsx($,{value:"standard",children:"æ ‡å‡†PCR"}),e.jsx($,{value:"nested",children:"å·¢å¼PCR"}),e.jsx($,{value:"multiplex",children:"å¤šé‡PCR"}),e.jsx($,{value:"qpcr",children:"å®æ—¶å®šé‡PCR"}),e.jsx($,{value:"rt_pcr",children:"é€†è½¬å½•PCR"})]})})}),e.jsx(t,{span:12,children:e.jsx(i.Item,{name:"targetGene",label:"ç›®æ ‡åŸºå› ",rules:[{required:!0,message:"è¯·è¾“å…¥ç›®æ ‡åŸºå› "}],children:e.jsx(q,{placeholder:"è¯·è¾“å…¥ç›®æ ‡åŸºå› "})})})]}),e.jsxs(l,{gutter:16,children:[e.jsx(t,{span:8,children:e.jsx(i.Item,{name:"forwardPrimer",label:"æ­£å‘å¼•ç‰©",rules:[{required:!0,message:"è¯·è¾“å…¥æ­£å‘å¼•ç‰©"}],children:e.jsx(q,{placeholder:"è¯·è¾“å…¥æ­£å‘å¼•ç‰©"})})}),e.jsx(t,{span:8,children:e.jsx(i.Item,{name:"reversePrimer",label:"åå‘å¼•ç‰©",rules:[{required:!0,message:"è¯·è¾“å…¥åå‘å¼•ç‰©"}],children:e.jsx(q,{placeholder:"è¯·è¾“å…¥åå‘å¼•ç‰©"})})}),e.jsx(t,{span:8,children:e.jsx(i.Item,{name:"expectedProductSize",label:"é¢„æœŸäº§ç‰©å¤§å°(bp)",rules:[{required:!0,message:"è¯·è¾“å…¥é¢„æœŸäº§ç‰©å¤§å°"}],children:e.jsx(F,{placeholder:"è¯·è¾“å…¥é¢„æœŸäº§ç‰©å¤§å°",min:50,max:1e4,style:{width:"100%"}})})})]}),e.jsxs(l,{gutter:16,children:[e.jsx(t,{span:12,children:e.jsx(i.Item,{name:"equipment",label:"PCRä»ª",rules:[{required:!0,message:"è¯·è¾“å…¥PCRä»ª"}],children:e.jsx(q,{placeholder:"è¯·è¾“å…¥PCRä»ª"})})}),e.jsx(t,{span:12,children:e.jsx(i.Item,{name:"operator",label:"æ“ä½œå‘˜",rules:[{required:!0,message:"è¯·è¾“å…¥æ“ä½œå‘˜"}],children:e.jsx(q,{placeholder:"è¯·è¾“å…¥æ“ä½œå‘˜"})})})]}),e.jsx(i.Item,{name:"notes",label:"å¤‡æ³¨",children:e.jsx(Q,{rows:3,placeholder:"è¯·è¾“å…¥å¤‡æ³¨ä¿¡æ¯"})})]})}),e.jsx(B,{title:"å¿«é€Ÿè®°å½•",placement:"right",width:400,open:ue,onClose:()=>ye(!1),children:e.jsxs(i,{form:Te,layout:"vertical",onFinish:async e=>{try{Y(!0),await new Promise(e=>setTimeout(e,500)),G.success("å¿«é€Ÿè®°å½•æˆåŠŸ"),ye(!1),Te.resetFields()}catch(s){G.error("è®°å½•å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{Y(!1)}},children:[e.jsx(i.Item,{name:"sampleCode",label:"æ ·æœ¬ç¼–å·",rules:[{required:!0,message:"è¯·è¾“å…¥æ ·æœ¬ç¼–å·"}],children:e.jsx(q,{placeholder:"æ‰«ææˆ–è¾“å…¥æ ·æœ¬ç¼–å·"})}),e.jsx(i.Item,{name:"wellPosition",label:"å­”ä½",rules:[{required:!0,message:"è¯·è¾“å…¥å­”ä½"}],children:e.jsx(q,{placeholder:"å¦‚ï¼šA1"})}),e.jsx(i.Item,{name:"ctValue",label:"Ctå€¼",children:e.jsx(F,{placeholder:"è¯·è¾“å…¥Ctå€¼",min:0,max:50,precision:1,style:{width:"100%"}})}),e.jsx(i.Item,{name:"bandIntensity",label:"æ¡å¸¦å¼ºåº¦",children:e.jsxs(P,{placeholder:"è¯·é€‰æ‹©æ¡å¸¦å¼ºåº¦",children:[e.jsx($,{value:"strong",children:"å¼º"}),e.jsx($,{value:"medium",children:"ä¸­"}),e.jsx($,{value:"weak",children:"å¼±"}),e.jsx($,{value:"none",children:"æ— "})]})}),e.jsx(i.Item,{name:"notes",label:"å¤‡æ³¨",children:e.jsx(Q,{rows:2,placeholder:"è¯·è¾“å…¥å¤‡æ³¨ä¿¡æ¯"})}),e.jsx(i.Item,{children:e.jsx(c,{type:"primary",htmlType:"submit",loading:r,block:!0,children:"ä¿å­˜è®°å½•"})})]})})]});var Ve};export{X as default};
