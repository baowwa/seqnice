# 检测项目SOP配置管理界面

## 1. SOP配置管理首页

```
┌─────────────────────────────────────────────────────────┐
│ SOP配置管理                            [新建SOP模板]    │
├─────────────────────────────────────────────────────────┤
│ 搜索SOP: [搜索SOP名称或项目...]     筛选: ▾ 全部 ▾ 状态 │
├─────────────────────────────────────────────────────────┤
│                                                         │
│ SOP模板列表:                                           │
│ ┌──┬─────────────────┬─────────┬─────────┬────────────┐ │
│ │  │ SOP名称         │ 版本    │ 状态    │  操作      │ │
│ ├──┼─────────────────┼─────────┼─────────┼────────────┤ │
│ │  │ 肿瘤基因检测    │ v2.1    │ ✅ 启用  │ [编辑] ... │ │
│ │  │ 病原微生物检测  │ v1.5    │ ✅ 启用  │ [编辑] ... │ │
│ │  │ 遗传病筛查      │ v3.0    │ ✅ 启用  │ [编辑] ... │ │
│ │  │ 药物基因组学    │ v1.2    │ ⏸ 停用  │ [编辑] ... │ │
│ │  │ 新冠核酸检测    │ v4.0    │ ✅ 启用  │ [编辑] ... │ │
│ └──┴─────────────────┴─────────┴─────────┴────────────┘ │
│                                                         │
│ [批量操作] [导出SOP列表] [导入SOP模板]                │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

## 2. SOP模板详情页

```
┌─────────────────────────────────────────────────────────┐
│ SOP模板: 肿瘤基因检测 v2.1           [返回列表] [更多]  │
├─────────────────────────────────────────────────────────┤
│ 模板基本信息:                                          │
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 模板名称: [肿瘤基因检测]                            │ │
│ │ 版本号: [v2.1]            状态: ▾ 启用 ▾ 停用       │ │
│ │ 适用项目: ▾ 肿瘤测序项目A, 肿瘤测序项目B            │ │
│ │ 描述: [用于肿瘤相关基因突变的检测流程...]           │ │
│ │ 创建人: 张三                  创建时间: 2024-03-15  │ │
│ │ 最后更新: 李四                 更新时间: 2024-05-20  │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ 实验步骤配置:                                          │
│ ┌──────────────┬──────────────┬─────────┬─────────────┐ │
│ │    步骤名称  │   步骤类型   │ 必填    │    操作     │ │
│ ├──────────────┼──────────────┼─────────┼─────────────┤ │
│ │ 样本接收     │ 信息记录     │ ✅ 是   │ [配置] ...  │ │
│ │ 核酸提取     │ 实验操作     │ ✅ 是   │ [配置] ...  │ │
│ │ 文库构建     │ 实验操作     │ ✅ 是   │ [配置] ...  │ │
│ │ 测序         │ 仪器操作     │ ✅ 是   │ [配置] ...  │ │
│ │ 数据分析     │ 数据分析     │ ✅ 是   │ [配置] ...  │ │
│ │ 报告生成     │ 报告输出     │ ✅ 是   │ [配置] ...  │ │
│ └──────────────┴──────────────┴─────────┴─────────────┘ │
│                                                         │
│ [添加步骤] [调整顺序] [导入步骤模板]                  │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

## 3. 步骤字段配置界面

```
┌─────────────────────────────────────────────────────────┐
│ 步骤字段配置 - 核酸提取                 [返回] [保存]    │
├─────────────────────────────────────────────────────────┤
│ 步骤基本信息:                                          │
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 步骤名称: [核酸提取]                                │ │
│ │ 步骤描述: [从样本中提取高质量的核酸...]             │ │
│ │ 预计耗时: [90] 分钟     排序: [2]                  │ │
│ │ 质量控制点: ▾ 是        SOP参考文档: [选择文件]    │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ 字段配置:                                              │
│ ┌──┬────────────┬────────┬──────┬─────────┬──────────┐ │
│ │  │ 字段名称   │ 类型   │ 必填 │ 默认值  │  操作    │ │
│ ├──┼────────────┼────────┼──────┼─────────┼──────────┤ │
│ │  │ 操作人员   │ 文本   │ ✅   │         │ [编辑]   │ │
│ │  │ 提取方法   │ 下拉   │ ✅   │ 磁珠法  │ [编辑]   │ │
│ │  │ 试剂盒     │ 下拉   │ ✅   │         │ [编辑]   │ │
│ │  │ 样本浓度   │ 数字   │ ✅   │         │ [编辑]   │ │
│ │  │ 260/280    │ 数字   │ ✅   │         │ [编辑]   │ │
│ │  │ 体积       │ 数字   │ ✅   │ 50      │ [编辑]   │ │
│ │  │ 裂解时间   │ 数字   │ ✅   │ 30      │ [编辑]   │ │
│ │  │ 温度       │ 数字   │ ✅   │ 56      │ [编辑]   │ │
│ │  │ 电泳图     │ 文件   │ ❌   │         │ [编辑]   │ │
│ │  │ 备注       │ 文本域 │ ❌   │         │ [编辑]   │ │
│ └──┴────────────┴────────┴──────┴─────────┴──────────┘ │
│                                                         │
│ [添加字段] [批量编辑] [验证配置]                      │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

## 4. 字段编辑界面

```
┌─────────────────────────────────────────────────────────┐
│ 编辑字段 - 提取方法                    [取消] [保存]    │
├─────────────────────────────────────────────────────────┤
│ 字段基本信息:                                          │
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 字段名称: [提取方法]                                │ │
│ │ 字段标识: [extraction_method]                      │ │
│ │ 字段类型: ▾ 下拉选择                                │ │
│ │   可选项: ▾ 文本 ▾ 数字 ▾ 日期 ▾ 文件 ▾ 下拉选择   │ │
│ │ 是否必填: ▾ 是                                     │ │
│ │ 显示顺序: [2]                                      │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ 字段属性配置:                                          │
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 下拉选项:                                           │ │
│ │   ○ 磁珠法                                          │ │
│ │   ○ 酚氯仿法                                        │ │
│ │   ○ 柱式法                                          │ │
│ │   ○ 其他                                            │ │
│ │                                                     │ │
│ │ 默认值: [磁珠法]                                    │ │
│ │ 单位: [无]                                          │ │
│ │ 验证规则: [无]                                      │ │
│ │ 提示文本: [请选择核酸提取方法]                      │ │
│ │ 帮助文本: [根据样本类型和下游应用选择合适的提取方法]│ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ 高级选项:                                              │
│ ▢ 在快速记录面板显示      ▢ 参与数据验证              │ │
│ ▢ 允许批量编辑          ▢ 生成统计报表                │ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

## 5. 质量控制点配置

```
┌─────────────────────────────────────────────────────────┐
│ 质量控制配置 - 核酸提取                 [返回] [保存]    │
├─────────────────────────────────────────────────────────┤
│ 质量控制规则:                                          │
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 启用质量控制: ▾ 是                                  │ │
│ │ 质检失败处理: ▾ 阻止进入下一步 ▾ 记录警告继续       │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
│ 质量检查项:                                            │
│ ┌──┬─────────────────┬─────────┬─────────┬───────────┐ │
│ │  │ 检查项名称      │ 标准    │ 操作符  │  操作     │ │
│ ├──┼─────────────────┼─────────┼─────────┼───────────┤ │
│ │  │ 浓度合格        │ 10      │ >       │ [编辑]    │ │
│ │  │ 纯度合格        │ 1.8-2.0 │ 范围    │ [编辑]    │ │
│ │  │ 完整性合格      │ -       │ 是/否   │ [编辑]    │ │
│ │  │ 降解度检查      │ -       │ 是/否   │ [编辑]    │ │
│ └──┴─────────────────┴─────────┴─────────┴───────────┘ │
│                                                         │
│ [添加检查项] [从模板导入] [测试验证规则]              │
│                                                         │
│ 检查项详情 - 浓度合格:                                │
│ ┌─────────────────────────────────────────────────────┐ │
│ │ 检查项: 浓度合格                                    │ │
│ │ 检查字段: 样本浓度                                  │ │
│ │ 比较方式: ▾ 大于                                    │ │
│ │   可选: ▾ 大于 ▾ 小于 ▾ 等于 ▾ 范围 ▾ 正则匹配     │ │
│ │ 参考值: [10]                                        │ │
│ │ 单位: ng/μl                                         │ │
│ │ 错误提示: [样本浓度低于10ng/μl，请重新提取]         │ │
│ │ 警告提示: [样本浓度偏低，建议重新提取]              │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

## 6. SOP版本管理

```
┌─────────────────────────────────────────────────────────┐
│ SOP版本管理 - 肿瘤基因检测             [返回] [新版本]  │
├─────────────────────────────────────────────────────────┤
│ 当前版本: v2.1 (启用中)                                │
│ 版本历史:                                              │
│ ┌──┬────────┬─────────┬─────────┬────────────────────┐ │
│ │  │ 版本号 │ 状态    │ 更新日期│ 更新说明           │ │
│ ├──┼────────┼─────────┼─────────┼────────────────────┤ │
│ │  │ v2.1   │ ✅ 启用 │ 2024-05-20 │ 优化质检标准    │ │
│ │  │ v2.0   │ 🔄 历史 │ 2024-03-15 │ 增加新检测指标  │ │
│ │  │ v1.5   │ 🔄 历史 │ 2024-01-10 │ 修复字段验证问题│ │
│ │  │ v1.0   │ 🔄 历史 │ 2023-11-05 │ 初始版本        │ │
│ └──┴────────┴─────────┴─────────┴────────────────────┘ │
│                                                         │
│ 版本对比: v2.1 vs v2.0                                │
│ ┌─────────────────┬──────────────┬──────────────┐     │
│ │     项目        │    v2.0      │    v2.1      │     │
│ ├─────────────────┼──────────────┼──────────────┤     │
│ │ 步骤数量        │ 6            │ 6            │     │
│ │ 必填字段        │ 18           │ 20           │     │
│ │ 质检规则        │ 5            │ 7            │     │
│ │ 主要变更        │ -            │ 增加2个质检点│     │
│ └─────────────────┴──────────────┴──────────────┘     │
│                                                         │
│ [查看变更详情] [回滚到历史版本] [导出版本文档]        │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

## 7. SOP模板库

```
┌─────────────────────────────────────────────────────────┐
│ SOP模板库                              [上传模板]       │
├─────────────────────────────────────────────────────────┤
│ 模板分类:                                              │
│ ▾ 全部模板 (45)                                       │
│   ▸ 核酸相关 (15)                                     │
│   ▸ 蛋白相关 (8)                                      │
│   ▸ 细胞相关 (12)                                     │
│   ▸ 测序相关 (10)                                     │
│                                                         │
│ 推荐模板:                                             │
│ ┌─────────────────┬─────────┬─────────┬─────────────┐ │
│ │  模板名称       │ 下载量  │ 评分    │    操作     │ │
│ ├─────────────────┼─────────┼─────────┼─────────────┤ │
│ │ 标准DNA提取     │ 1,245   │ ⭐⭐⭐⭐⭐ [使用] │ │
│ │ PCR扩增通用     │ 892     │ ⭐⭐⭐⭐☆ [使用] │ │
│ │ 文库构建Illumina│ 756     │ ⭐⭐⭐⭐⭐ [使用] │ │
│ │ 细胞培养基础    │ 634     │ ⭐⭐⭐⭐☆ [使用] │ │
│ │ Western Blot    │ 521     │ ⭐⭐⭐⭐⭐ [使用] │ │
│ └─────────────────┴─────────┴─────────┴─────────────┘ │
│                                                         │
│ 我的模板:                                             │
│ ┌─────────────────┬─────────┬─────────┬─────────────┐ │
│ │  模板名称       │ 状态    │ 使用次数│    操作     │ │
│ ├─────────────────┼─────────┼─────────┼─────────────┤ │
│ │ 肿瘤RNA检测     │ 私有    │ 15      │ [分享] ...  │ │
│ │ 快速DNA提取     │ 已分享  │ 28      │ [取消分享]  │ │
│ │ 定制建库方案    │ 私有    │ 3       │ [分享] ...  │ │
│ └─────────────────┴─────────┴─────────┴─────────────┘ │
│                                                         │
│ [创建新模板] [导入模板] [管理分类]                    │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

## 8. 快速配置向导

```
┌─────────────────────────────────────────────────────────┐
│ SOP快速创建向导                        [上一步] [下一步] │
├─────────────────────────────────────────────────────────┤
│ 步骤 1/4: 选择模板类型                                 │
│                                                         │
│ ○ 从空白模板开始创建                                   │
│ ○ 基于现有模板修改                                     │
│ ○ 从模板库选择基础模板                                 │
│ ○ 导入外部SOP文档                                      │
│                                                         │
│ 已选择: 从模板库选择基础模板                           │
│ 推荐模板: [标准DNA检测流程]                            │
│                                                         │
├─────────────────────────────────────────────────────────┤
│ 步骤 2/4: 配置基本信息                                 │
│                                                         │
│ 模板名称: [_________________________]                  │
│ 版本号: [v1.0]                                         │
│ 适用项目: [_________________________________]          │
│ 描述: [___________________________________]            │
│               [___________________________]            │
│                                                         │
├─────────────────────────────────────────────────────────┤
│ 步骤 3/4: 选择实验步骤                                 │
│                                                         │
│ 可用步骤:                                            │
│ ▢ 样本接收与登记    ▢ 核酸提取        ▢ 质量检测     │
│ ▢ 片段化            ▢ 末端修复        ▢ 接头连接     │
│ ▢ 片段筛选          ▢ PCR扩增         ▢ 纯化         │
│ ▢ 文库质检          ▢ 测序            ▢ 数据分析     │
│ ▢ 结果解读          ▢ 报告生成        ▢ 归档         │
│                                                         │
│ 已选择步骤: 样本接收 → 核酸提取 → 质量检测 → 文库构建 │
│               → 测序 → 数据分析 → 报告生成            │
│                                                         │
├─────────────────────────────────────────────────────────┤
│ 步骤 4/4: 确认创建                                     │
│                                                         │
│ 即将创建新的SOP模板:                                  │
│   名称: 肿瘤DNA检测流程                               │
│   版本: v1.0                                           │
│   步骤: 7个实验步骤                                    │
│   字段: 约35个数据字段                                 │
│   质检: 5个质量控制点                                 │
│                                                         │
│ ▢ 立即启用此模板                                      │
│ ▢ 设置为默认模板                                      │
│ ▢ 分享到模板库                                        │
│                                                         │
│ [完成创建] [保存为草稿]                               │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

## 设计特点说明

1. **分层管理**：SOP模板 → 步骤 → 字段的三级配置结构
2. **版本控制**：完整的版本历史和回滚功能
3. **质量控制**：可配置的质量检查规则和验证逻辑
4. **模板复用**：丰富的模板库和快速创建向导
5. **字段类型丰富**：支持文本、数字、日期、下拉、文件等多种字段类型
6. **灵活配置**：字段属性、验证规则、显示顺序等均可配置
7. **权限管理**：支持模板的私有、分享和公开状态

这个SOP配置管理系统提供了完整的检测项目流程配置能力，确保实验过程的标准化和数据记录的一致性。